{"version":3,"sources":["scripts/helper.js","scripts/scales.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/namespaces.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/namespace.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/creator.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selector.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/select.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/matcher.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/constant.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/data.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/join.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/order.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/call.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/node.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/size.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/each.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/window.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/style.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/property.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/text.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/html.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/append.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/on.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selection/index.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/select.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/create.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/local.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/point.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/mouse.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/selectAll.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/touch.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/touches.js","../node_modules/d3-svg-annotation/node_modules/d3-selection/src/index.js","../node_modules/d3-svg-annotation/node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-svg-annotation/node_modules/d3-dispatch/index.js","../node_modules/d3-svg-annotation/node_modules/d3-drag/src/noevent.js","../node_modules/d3-svg-annotation/node_modules/d3-drag/src/nodrag.js","../node_modules/d3-svg-annotation/node_modules/d3-drag/src/constant.js","../node_modules/d3-svg-annotation/node_modules/d3-drag/src/event.js","../node_modules/d3-svg-annotation/node_modules/d3-drag/src/drag.js","../node_modules/d3-svg-annotation/node_modules/d3-drag/src/index.js","../node_modules/d3-path/src/path.js","../node_modules/d3-path/src/index.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/constant.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/math.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/arc.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/point.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/line.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/area.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/descending.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/identity.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/pie.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/radial.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/radialLine.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/radialArea.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/circle.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/cross.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/diamond.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/star.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/square.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol/wye.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/symbol.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/noop.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/curve/step.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/array.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/offset/none.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/order/none.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/stack.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/offset/expand.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/offset/silhouette.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/offset/wiggle.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/order/ascending.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/order/descending.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/order/insideOut.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/src/order/reverse.js","../node_modules/d3-svg-annotation/node_modules/d3-shape/index.js","src/Annotation.js","src/AnnotationCollection.js","src/Handles.js","src/Note/alignment.js","src/Builder.js","src/Note/lineType-vertical.js","src/Note/lineType-horizontal.js","src/Connector/type-line.js","src/Connector/type-elbow.js","src/Connector/type-curve.js","src/Connector/end-arrow.js","src/Connector/end-dot.js","src/Subject/circle.js","src/Subject/rect.js","src/Subject/threshold.js","src/Subject/badge.js","src/Types-d3.js","src/Adapter-d3.js","index.js","scripts/viz.js","scripts/tooltip.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-collection/src/values.js","../node_modules/d3-collection/src/entries.js","../node_modules/d3-collection/src/index.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-selection/src/touches.js","../node_modules/d3-selection/src/index.js","../node_modules/d3-tip/index.js"],"names":["generateG","margin","d3","select","append","attr","left","top","setCanvasSize","width","height","appendAxes","g","appendGraphLabels","text","drawXAxis","xScale","call","axisBottom","tickSizeOuter","drawYAxis","yScale","axisLeft","tickArguments","placeTitle","drawButton","year","button","on","setXScale","data","scaleTime","domain","extent","d","date","range","setYScale","max","nombre","scaleLinear","xhtml","svg","xlink","xml","xmlns","name","prefix","i","indexOf","slice","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","none","selector","querySelector","groups","_groups","m","length","subgroups","Array","j","group","n","subgroup","node","subnode","__data__","Selection","_parents","empty","querySelectorAll","parents","push","matches","match","update","_enter","map","sparse","EnterNode","parent","datum","_next","_parent","prototype","constructor","appendChild","child","insertBefore","next","x","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","value","size","each","bind","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","onenter","onupdate","onexit","remove","merge","order","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","parentNode","compare","ascending","compareNode","a","b","sortgroups","sortgroup","sort","NaN","callback","arguments","apply","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","split","classList","ClassList","_node","_names","add","join","splice","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","constantNull","before","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","deep","property","filterEvents","event","element","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","t","type","onRemove","typename","__on","o","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selectAll","selection_selectAll","filter","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","clone","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","toString","get","id","set","current","source","ownerSVGElement","createSVGPoint","point","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","changedTouches","touches","identifier","touch","points","noop","Error","Dispatch","types","T","copy","c","concat","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","DragEvent","target","subject","active","dx","dy","defaultFilter","defaultContainer","defaultSubject","defaultTouchable","container","touchable","gestures","listeners","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","mousemoved","mouseupped","clearTimeout","p","s","sublisteners","p0","clickDistance","sqrt","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","w","h","constant","halfPi","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","asin","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","buffer","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","t0","t1","p1","oc","ax","ay","bx","by","kc","lc","atan2","centroid","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","pointX","pointY","defined","curve","curveLinear","output","line","defined0","area","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","identity","sortValues","descending","pie","sum","arcs","pa","curveRadialLinear","curveRadial","Radial","_curve","radial","radialLine","angle","radius","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","draw","tan30","tan30_2","ka","kr","kx","ky","sqrt3","symbols","circle","cross","diamond","square","star","triangle","wye","symbol","Basis","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","custom","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","pow","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","sign","slope3","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","Object","monotoneX","monotoneY","Natural","px","controlPoints","py","Step","_t","stepBefore","stepAfter","series","isNaN","stackValue","keys","orderNone","offset","offsetNone","stack","kz","sz","oz","ki","si","sij","s2","sij0","sij1","s3","sk","skj0","skj1","sums","reverse","bottom","tops","bottoms","Annotation","nx","ny","color","connector","note","disable","className","_dx","undefined","_dy","_color","_className","_type","setPosition","redrawSubject","clearComponents","setOffset","redrawConnector","redrawNote","setClassName","updatePosition","updateOffset","json","AnnotationCollection","annotations","accessors","accessorsInverse","newSettings","forEach","setPositionWithAccessors","editMode","updateEditMode","textWrap","updateTextWrap","drawText","notePadding","getNoteBBoxOffset","positionX","positionY","pointHandle","move","circleHandles","r2","padding","addHandles","handles","start","end","leftRightDynamic","align","topBottomDynamic","orientationTopBottom","orientationLeftRight","bbox","orientation","lineBuilder","canvasContext","classID","lineGen","builder","pathMethods","attrs","arcBuilder","arcShape","components","lineSetup","subjectType","annotation","position","subjectData","radiusPadding","connectorData","diffY","diffX","xe","ye","opposite","createPoints","curveCatmullRom","cHandles","updatePoint","mapHandles","anchors","diff","scale","angleOffset","atan","dot","transform","updateRadius","updateWidth","updateHeight","rHandles","typeSettings","notCornerOffset","placement","circlebg","fill","pointer","notCornerPointerXY","dragBadge","bHandles","Type","dispatcher","noteContent","handler","addHandlers","component","offsetCornerX","offsetCornerY","init","mapX","mapY","builders","isArray","el","addAttrs","removeAttrs","currentAttrs","attributes","bboxWithoutHandles","parseFloat","offsetX","offsetY","subjectParams","subjectCircle","subjectRect","subjectThreshold","subjectBadge","stroke","dragSubject","connectorParams","connectorCurve","connectorElbow","connectorLine","endType","e","distance","connectorArrow","endScale","connectorDot","noteData","noteParams","lineType","noteVertical","noteHorizontal","dragNote","dragging","dragstarted","dragended","noteAlignment","drawFunction","drawOnSVG","drawOnScreen","drawSubject","drawConnector","getNoteBBox","drawNoteContent","drawNote","stopPropagation","customType","initialType","settings","babelHelpers.get","babelHelpers.extends","d3NoteText","titleBBox","label","wrapLength","wrapSplitter","bgPadding","bgPaddingFinal","right","title","getBBox","d3Label","d3Callout","d3CalloutElbow","d3CalloutCurve","d3Badge","d3CalloutCircle","d3CalloutRect","ThresholdMap","d3XYThreshold","newWithClass","lineHeight","words","word","tspan","pop","getComputedTextLength","reduce","yOffset","collection","ids","annotationDispatcher","sel","translatedAnnotations","annotationG","log","JSON","stringify","updateText","updatedAccessors","updateDisable","updateNotePadding","rerun","some","positionLabels","labelDate","labelAccident","drawLine","drawAnnotationsViz1","d3Annotation","annotationCustomType","annotationXYThreshold","makeAnnotations","Date","setTitleText","getContents","toFixed","Map","has","clear","values","entries","f","object","sortKeys","rollup","nest","array","depth","createResult","setResult","valuesByKey","result","sortKey","createObject","setObject","createMap","setMap","Set","proto","direction","d3TipDirection","d3TipOffset","d3TipHTML","rootElement","body","initNode","tip","vis","getSVGNode","show","SVGElement","content","poffset","dir","nodel","getNodeEl","directions","coords","scrollTop","scrollLeft","directionCallbacks","hide","functor","destroy","directionNorth","directionSouth","directionEast","directionWest","nw","directionNorthWest","ne","directionNorthEast","sw","directionSouthWest","se","directionSouthEast","getScreenBBox","offsetHeight","offsetWidth","div","svgNode","tagName","toLowerCase","targetShape","targetel","matrix","tbbox","svgSize","graphSize","setSizing","helper","tooltip","viz","csv","then","timeParse","Nombres","scales","build"],"mappings":";;;;;;AsLAA,A3CAO,I2CAHkT,A3CAOzQ,KAAK,C2CAN,E3CAS,C2CAN,CAAb,4B3CAO;AWAQ,AJAA,AsCAA,A3BAA,AUAf,ASAe,AdAA,ADAA,AQAf,AhBAe,AkBAf,AZAe,ADAA,AHAA,AWAf,AIAA,AIAA,AdAe,AZAA,AoBAf,A1BAA,AEAA,AoBAe,A3GAA,S8GANgJ,AEAAuB,AEAAM,ALAAhC,AIAA8B,AIAAlF,ANAA0E,A1BAA3I,AEAAkB,IFAT,C6BAA,ADAA,A1BAA,C8BAA,ChCAgB,C6BAC,ADAA,A5BAC,AEAD,CMAOqB,AJAAtC,AsCAAY,ARAAsC,AdAAsC,ATAA3B,AqBAN,A1BAMtC,AgBAAX,A3GAA0B,C6FAT,AiBAf,AEAA,ADAA,A/GAe,CoGAW,AUANkF,ANAM,AFAA,ADAA,AHAA,AKAA,CVAC,A7FAA,C+HAZ,AfAO,ADAA,AJAP,CYAA,AVAf,CkBA8ByC,AlBANrL,AlBAT,AgBAe,CYAC,AvBAhB,CPAA,AqBAf,ALAe,AdAiB,CKACkF,CPAC,AqBAN,ALAM,AIAlC,CkBAe,ClBAe,CkBAO,I/BAtB,EAA4BC,MAA5B,EAAoC;AHCjD,AgCCa,ApCDb,AsCAA,A3BAA,AUAA,ASAA,AdCA,ADDA,AQAA,AhBAA,AkBAA,AZCA,ADDA,AmBDF,AtBEE,AWDA,AIAA,AIAA,AdAA,AZAA,AoBAA,AxBAA,AoBAA,A3GAA,IwHDEiG,EOCExL,A3BAAgH,AJAA/C,AkBAA,AbAAkD,AYAA,AIAA/D,AdAAuB,CECC,AODA4F,AVCA,AJAA,AaDAJ,ElBAE,AgCCevJ,ApCDf,AsCAA,AjBAAoI,ASAA/B,AfAA,AKAA,AlBAA,AJAA,AoBAC7E,A3GAD,CwGAC,ADAA,CECCV,ATDA,AkBAAmJ,AZCAnJ,ADDA,AHCAA,AeDAiJ,A1BAT,CwCAUvI,AVAA,CdAC,AZAAL,AgBAC,CkBCC,AzBDD,AJAA,AKAA,AEAZ,AIAahB,CzBCA,A4BDA,ANAAqB,AaAA,CUAC,AjBAA6G,AEAd,AQDc,CKEgB,AEDfgI,A3BAAhK,AKCA,AHAA,AJAA,CqBDC,AlBAAlF,AVAT,AoBAP,CQAiBF,AfAT,AQAS,AhBAAoC,AwBDA,A7BCAlB,CmBAV,ALCW,AHAA,AJAA,AmBDAuD,CxBAA,AJAA,AeAlB,AQAA,AQDF,AXCoB,AEAC,A/GAD,CiHAlB,CHAqB4C,ATAT,AUAZ,CfAY,AKAU,AYAA,CMAf,AdCgBvH,AHAAA,AJAAA,APDA,CSAC,AJAxB,AkBAA,AvBAwBE,CSAC,AOAjB,CPAgB,AUAjB,ASCD,ALDoB,CdA1B,AUA2B,ATAA8C,AYAA2B,CIA3B,CVA8BlE,CoBApB,AtBCL,AHAA,AJAA,APDE,C4BCImJ,ALDoBjF,AbAT,AVAtB,CcCgCtE,AHAAA,AJAAA,COAC,AHAA,ADDrB,AHCqB,ASDC,CoBAAI,AjBA3B,ATAP,AMAmCrB,CGAnC,CLCoC,AHAA,AJAA,COA/B,AHAA,AJAgC,AeDf,CcAtB,A7BCK,AeDiC2C,CMChC,AdAiC9B,AHAAA,CiBAnB,AdAoB,AHAA,AJAAA,CgBDd,AhBCe,CgBDCgC,CTCClC,AHAAA,CJACA,GSDd,CAAmBuG,CFCA,AHAA,AWD3B,CMChB,AdA4CpG,AHAAA,AJAA,AeDA,CfCCA,CqBAnB6C,ELDN,ADAJ,CCAiC,CTCvD,AHAA,CiBAM,ArBAN,CqBDO,AdCmD1C,AHAAA,CGAC,ASDjC,AZCiC,AJAA,ASDpD,CAAuD,CYExD,ALFuD,AhBCAA,COACJ,AHAAA,AJAH,COA3D,AHAA,EGAiE,AHAA,AJAAA,CqBCtDQ,ALFuDkE,AhBClE,COAmEtE,AHAAA,CGAnE,AHAA,CJAqE,CqBC/D,AdDgE,AHAA,GiBCpDM,GLF2C,CAAgBwI,IKA7E,MLA0B;ArBCxB,AgCCF,ApCDE,APCF9K,AkBDAiH,AUAD,ASEA,AdDG,ADDH,AQAA,AhBDC,AkBCD,AZCG,ADFF,AmBCK,AtBCH,AWDA,AIAH,AIAC,AdAA,AZAD,AoBAA,A1BAc,AEAd,AoBDQ,A3GCL,EkFCFjH,AkBDAiH,EoBASwE,CtCCN,AyBDKrJ,CXDkBW,AKAUzC,AgBChC8C,CnCCC,AmBFgC,AEChCwB,EsBCE,ApBAA,AHAA,AkBDO,AtBCP,ASDK,CND4B,AMC3B9D,CdAJgD,AJAA,AWAA,ACDgC,AQChC,ANAT,AvGASA,C6FAP,AOAQ,AJDsB,AKAhC,AmBCiB,AHAjB,AdAU,AvGAR,C6HCS2M,AzBDF,AKCExO,AHAAA,AJAAA,CEDX,AiBAYmB,CrBDuB,CPCrBP,A+BAT,AXASzC,CTAC,CyBCR,ApBAS,AHAA,AJAA,AbDMoB,AsBAd,CXDR,C6BEA,AhBDS,AQAS,CjBAlB,AKCmBE,AHAAA,AJAAA,AWDjB,AQAiBwJ,CVAM9I,ClBAhB,CAAaZ,AcAD,ElBAR,AsBDN,CFEkB,AHAA,AJAA,ASDM,CFCLQ,AHAAA,AJAAA,AbDM,CoBCP,AHAA,AJAA,COAlB,AHAA,AJAA,ETDE,AgBCqB1B,AHAAA,AJAAA,AmBDlB,C5BAV,AgBC6B,AHAA,AJAA,AmBDA,EnCAlB,CuBCqB,AHAA,AJAA2B,COA3B,AHAA,AeDK,EZCyBC,AHAAA,CGAC,AHAA,CJAC,CAACL,COACI,AHAAA,KGAK,AHAA,AJAZ,COAaJ,AHAAA,EJAE,CAA1C,EAA6CgC,COA7C,AHAL,EGAqDzB,AHAA9B,CAAC,AJAA,GOAtD,AHAyD4B,AJAAD,CIAzD,CGA2D3B,CAAC,AHAA,EAAEA,AJAA,COAC4B,AHA/D,AJA+D5B,COA/D,APA8D,CIAG,AJA5D,COA6D,CPAC8B,COAC9B,CAApE,EAAuE,APAvE,EAAyE,EAAEA,CAAF,IAAO,CAAhF,GAAoF;ALArF,AgCCF,ApCDE,APCDP,A6CDA,A3BAAiH,AKCI,ATHJ,AMGI,ADFJ,AHEI,AWDH,AQAF,AdDwB,AlBCvB,AsBFO,A3GEN,EkFCDjH,AkBDAiH,CPFA,AJAA,AoBAA,A7GAA,E2GEO5E,CoBAHpC,A/BFqCkE,AOChBS,CrBEpB,AmBFAC,EnBEE7E,A6CDA,A1CAAyB,AsBAI,CoBAH0P,A3BAA,AKCA9O,ATHqC,AMGrCA,AJAAA,AKFe,AICX6F,CPAHf,ACDT,CAAU,CLDsC,CdCnC,AuBED,AHAA,AJAA,EEDZ,CAAe,AKCAjF,AHAAA,AJAAA,AbDA,CWFsCiC,GIErD,AfAmB,AsBFnB,CFGoB,ATH4B,AMG5B,AJAA,ASJQ,CPGP+C,AKCA3G,AHAAA,AJAAA,ASDI,CoBAzB,AtBCoB,ATHpB,AMGoB,ADFC,AHED,COAhB,AHAA,AJAA,AbDG,C0CAiB,CtBCC0G,APAA,CbDCzF,IeA1B,AfAO,GoBC0B,ApBDA,CoBCChD,IAAT,CAAc6D,IAAd,EAAoBA,ApBDD,IoBCK,CAACE,QAAzB,EAAmChC,CAAnC,EAAsC2B,KAAtC;AZA1B,AJAA,APCChC,A6CDE,A3BAF,AUAF,ALCK,AODL,AhBFEgE,AkBEa,AZCT,ADHmBkD,AHGjB,AWDP,AIAc,AVFmB,AQElC,A1BAI,AEAW,AoBAd,A3GAA,EkFCClH,AcHAgE,COAA,CFAuBkD,GnBGlB,AcHA,C+BECgK,C7CCC,AkBDA,AUAAhI,AEAAqB,AXFqB,AUErBJ,CfFC,AMGAhI,ADHqB,ChBEpB,CgBFsB9B,AHGrBuD,C6BDC,A3BAX,ACF4B,CCGxB,ADHmB,E0BET7D,AzBCA,AJAA,AbDAyB,CWFC4D,AKAqB,CSEtC,AvBAwB7D,CwCAL,AjBAAY,CiBAC8O,AbAM,AhBCN9O,AeDM,CDA1B,AXFyB,AUEzB,CCAsBsC,ADAAA,CDAtB,ARCuBtC,CNHb,AEGc,CYDC,AZCAiE,CXDV,CyBAf,AVCgB,ASDhB,CxBAkC,CyBAL,AhBFA,AeEA,A1BAlB,CAAmB7E,I0CAd,EAAZ,E1CAO,CHFI,AcAL,AXEN,GWFsC6D,MEGtB,CFH6B,AEGAxB,CFHCI,GEG9B,EFH6B,CAAvC,CEG+C,CAAjD,CFHmDA,CEGCJ,IFHI,AEGA,CFHCnG,AEGA4I,MFHN,CAAajB,GEGZ,CAAgBzB,GFHG,GAAG,EAAvB,CAAzD,GEG0D,CAA6BxB,IAA7B,EAAmCyB,IAAnC;A2BC5D,A3CAE3D,A6CDEiR,A3BAH,AUAC,ALCC,AODD,AhBFA,AkBEA,AZCG,ADJwC,AmBE7C,AtBEQtN,AeDN,AIAa,AdFb,AQEA,A1BAC,AEAD,ELCA3D,CmBJA,AhBCA,C0CEEiR,APDA,CtCEC,CcHC7L,CdGC,CgBACzB,C2BAC4M,AEDA,AjBAArO,AEAA,AEAA,ADAA,AVFAuC,AQEA,AxBAAnD,CwCACsC,CAAN,APDOhD,CtBEC,CYDC,APFX,CsBGF,AEDc2K,AjBAAtC,AdFA,AkBEAvE,ADAAA,CfCCxC,E2BAE,AtCDA,CSFC,AkBET,ADAA,CcAU,AbAAwI,AMDf,AtBEI,AeDWF,CcAC0G,AVAM,CLAN,ADAA,AxBAC,CSFnB,CcEO,CdFerO,AkBEf,AMDe,APCf,CCAP,ADAA,A1BAO,EwCAL,AjBAuB,CvBACN,CwCAC0O,C/BFC,CcEC/H,EdFE9D,ATExB,CwCAyB,CAAC+L,APDnC,COC6B,AxCAO,CiCDC,EOCE5F,CjBAZ,CAAcrJ,AdFA,CAACW,E+BEE,C7CH7B,A6CG8BuO,AjBAlB,CAAzB,EdFuC,ATEM,CSFvB,G+BEpB;AFEF,A3CAAnR,A6CDEgR,AjBAH,AEAG,AhBFF,AkBED,AZCE,ADJD,AmBEA,AtBEK,AWDP,AIAC,AIAC,AdFD,AQEG,A1BAH,AEAG,ELCFhR,E6CDEgR,E/BFE5L,AwBCAmG,CKECgF,A3CAA,C2CAL,C3CAO,A6CDA,AfAAnG,AXHApD,AQGA0B,AQAA,ANAAsB,EcCE,AtCDA,CwCACgH,A/BFA,CwBCC,CnBFX,AgBGYvM,ErBFE,AwBCA9D,AjCCA4B,CsCCC,AEDA,CFCC,AEDA6O,AfAd,AKAK,CAAU/L,CQCCgL,A7BHlB,AeEE,CCAiB9L,ChBFCR,CeECQ,CSDC,CAACxD,AXCzB,AQAS,CQCQ,AbDb,AhBFsB,AaEAd,AQAxB,CrBFyBoF,C6BGCmL,AdDxB,EFAJ,EAAgCjM,AtBArB,CwCAC,A/BFU,ATEWlD,CwCACY,EFCjB,A7BHf,C6BGmC,AhBDrC,CkBAsC,CFCrB,AEDsBoP,AlBAA,CgBCrC,ALFA,CxBDwCjM,ATE/B,CAAP,KSF4C,CAACrB,G+BEf,C/BFc,CAAN,C+BEYuN,OAApB,EAAtB,CAAR;AFEH,A3CNc,A6CKX,AtBCF,AODC,AhBFD,AKDD,AHII,AWDH,AQAD,ANAE,AxBAA,GyBFD,ADAA,AxBAA,MkBGO,ATHAxN,AaEA,EkBAE,CAACkN,CtBCV,CTHY,G+BEG,CAACrN,A/BFAf,C+BEP,EAAUoO,AlBAD,GbFX,E+BEiB,CAACE,A/BFApN,C+BEhB,CAAP,G/BF4B,CAACwB,KAAN,CAAY1C,MAAZ,EAAoB2C,KAApB,EAAlB,GAAgD3C,MAAvD;A+BGC,AjBAH,ALCC,AODA,AhBFA,AMGC,AkBHA,AtBGC,AWDC,AEAH,AxBAA,MiCFK,EAAE,CVECqG,ARCA,AODAhJ,IPCP,AODE,IAAasE,CCAjB,CAAmBtC,GDAf,CCAJ,EAAyB,CUFCsJ,OAApB,CAAJ,EAAkC;AKIpC+E,AfDE,ARCD,AkBHGjF,AXED,GAFD,CWAEA,CKGC,CAAChI,CfDC6F,KAAL,GeCF,AfDejH,CUFC,EKGExB,CfDhB,AUFiB,IKGI,CAAC4C,SAAN,GAAkB;AAClCC,AEDA,AjBAA,AEAF,AQHoBkI,AtBIlB,AWDD,AEAD,EcCElI,IEDIiO,APHc/F,CVGbrC,EEAEmB,AdCA,AaDAJ,CgBAC,GFCG,AEDAjI,AjBAX,AZCA,E2BAaqO,CfDC1H,AUHc,COGb,CAAC4I,APHc,EKGI,CbApC,ADAA,CCAsBjN,ADAAA,IDAI,CAACtC,AEA3B,ADAA,ECA6B,AQHV,ATGU,EDAE,CAAC4F,OiBAnB,EAAX,GjBAyB,CAAkB,OAAlB,KAA8B,EAA/B,CAAxB;AeEA4I,AEDA,AjBAD,AEAC,AQJ2ChF,AtBK5C,AaDC,EcCAgF,GAAG,CLLwChF,CKKtC,EEDE,AfAA,ADAA,CgBACH,KAAK,CAAC2F,APJuC,CKKvChP,CLLyC,GKKlD,AbDa,ADAA,EcCE,AEDZ,GAAgBsP,IAAI,CAAC9T,IAArB,GAA4BwE,IAAI,CAACwP,UAAlC,EAA8CnG,KAAK,CAAC6F,OAAN,GAAgBI,IAAI,CAAC7T,GAArB,GAA2BuE,IAAI,CAACyP,SAA9E,CAAP;AFEE,AEDH,AfAG,AQLe,AXKnB,AEAI,KSLA,GKMIhB,AbDAhJ,ADAAA,CCAC,AHAAiB,AEAA,CcCC,EbDEpE,ADAAA,CcCC,IbDI,ADAA,CcCCgM,AbDAxJ,ADAAA,CcCd,IbDQ,ADAA,CCAY,ADAA,CFAxB,CAA0B9G,EGAd,ADAA,ECAkB6G,AHA9B,AEA8BA,EFAEvC,KAAhC,EGAY,AHA2B,AEA3B,CCAR,ADAA;ADCJ0E,AEAI,AQLD,AXKD,AEAE,SDAK,AEAAmB,AHAA,AEAAJ,CDAC3G,QEAN,CFAJ,CCAI,CCAiBqE,AHAD,CCAE,AEAA,CDACA,CAAC,ECAE,EDAE,ECAP,EDAE,CCAU,EAAZ,ADAc,EAAZ,CCAeA,CAAlC,CDAoCA,CAApC;AcCA,AfAF0B,AEAC,AQLF,AXKG,AEAD,EDADA,CEHA,ADAA,EDGG,EAAE,CDAC1B,CAAC,EgBAE,ChBACnD,CgBACmM,EAAE,EfACzQ,ADAC,CAAC8G,CgBAC9E,EfAZ,EeAI,AfAW,ADAV,CgBAR,AhBAoB,EgBAE,EhBAd,EgBAkB,AhBAA6E,EgBAE7E,IAAI,GAAGA,AhBA3B,CAAR,GgBAuC,CAACkE,UAAd,CAAJ,EAA+B;AfCrD,AEAH,AHAG,AEAH,QDAOhG,ADAAuH,CCAC,ADAA,GCAG,CDAC,ICAIyB,ADAb,EAAe,ICAP,CAAY/I,EDAE,KCAd,ADAmBH,CCACA,GDAN,CCAd,ADAO,CCAf,ADAA,KACK,KAAKA,IAAL,IAAayH,CAAb;AgBDL,ALJJ,AXMG,GAJD,MWFOgE,EKIEzJ,IAAI,CAACyO,EAAD,CAAX,WLJJ,CAA+B/E,QAA/B,EAAyCC,KAAzC,EAAgD9J,KAAhD,EAAuD;AKKpD,AfAC,AECW,AQLb6J,AXMD,AEDc,ESLbA,CKFkC,KfM5BxL,CAAC,CUJC,EVIE,CAAR,AUJS0L,EVIE,GECStH,ADAAA,KCAT,ADAA,ECAgB,ADAA,GSLH,CAACoH,QAAD,EAAWC,KAAX,EAAkB9J,KAAlB,CAA1B;AKKA6O,AfAI,AECJ,AQLA,ATKA,EcDAA,GAAG,EAAE,EbCE7J,AQLA,ATKAA,EDDEqC,MeAKlH,AfAV,CAAYQ,AECA,ADAA,CCACf,AQLD4J,ATKC5J,EcDZ,CfAD,CeAgB6C,AfACtE,CUJd,CRKA,ADAA,CSLgB,CVInB,CeAC,AbEC,ADAA,EcFqB,GbEhBwE,ADAAA,ICAL,ADAA,CCAUF,ADAAA,KCAK,ADAA,ICAI,ADAA,ICAT,ADAA,GCCN4F,ADAAJ,UCDM,ADAA,GCCO,ADAA,CCAC,ADAA,OCAOxF,ADAAA,KCAP,ADAA,KCAiB,ADAA,UCAjB,ADAA,GCCd+F,ADAAJ,YCDc,ADAA,GCEdG,ADAAJ,YCFa,ADAA,ECEC1F,ADAAA,KCFD,ADAA,CCDjB,ADAA,CCDC,ADAA,GCKD,ADAA,KCAKtC,ADAAA,ICAL,ADAA,GCAYmI,ADAAJ,SCLlB,EDAA;AcAE,AbMH,AQVG,AXMW,AEId,QSVO8B,GKIG7J,IAAI,ALJA,CKIC,ELJEqJ,AXMMrL,GgBFHsQ,CAAN,AhBEA,CgBFJ,ALJY,CAACxE,AXMMxH,EgBFJA,GhBEX,EgBFX,AhBEiC,MWNjC;AKKD,AfDG,ADGJ,GgBXkC,MhBW3BuC,ECHEoC,KAAL,CAAW5B,CDGC,CAAC5F,MAAV,GAAmB,CCHtB,ADGG,CCHqB,EDItB,KCJF,ADIO+C,ECJ0B,EDI/B,CAAU,CAACF,CCJyB4E,IDIpB,ECJe,CAAYE,CDIvB,GCJW,CAAiB,ADIrC,GCJoB,ADK3BZ,CCLN,aDIa,GACU,OAAOlE,KAAP,KAAiB,UAAjB,GACjBoE,gBADiB,GAEjBD,gBAHM,EAGYzI,IAHZ,EAGkBsE,KAHlB,CAAV,CADC,GAKD,KAAKtC,IAAL,GAAYhC,IAAZ,CALN;AgBDAoF,AfDG,AUJD,AXYH,EgBPCA,MAAM,ALLA,CAACyG,CKKC,MLLF,IKKW7J,ALLE6J,IKKX,EAAe,CLLG,KAAK,IAAZ,IAAoB,EAAEA,OAAO,CAAC5F,uBAAR,CAAgC,IAAhC,IAAwC,CAA1C,CAArC,EAAoF;AKMpF,AfDD,AUJGyF,GVHgB,GUGhBA,KKKK,GLLG,CAACvN,CKKCmS,CAAL,ELLL,CAAc,CKKCtO,GLLf,CKKK,CLLeqJ,GKKG,ELLvB,KKK8BrJ,IAAI,CAAC,KAAKsO,CAAN,CAApC;AACD,AfDDlL,AUJG,EVIHA,CeXkC,KfW5B,EAAE,UAASpF,IAAT,EAAe;AeEvBuQ,AfDE,AUJD,EKKDA,CLVA,KVSMrQ,CAAC,CeCC,EAAE,AfDA,KAAKgJ,MAAL,CeCW,AfDC/I,OAAZ,CAAoBH,IAApB,CAAR;AeEA,ALLH,WKKU,KAAKsQ,CAAZ;AACD,AfFC,QAAIpQ,CAAC,IAAI,CAAT,EAAY;AeboB,Afc9B,AUHN,CKXA,QLWS0L,EVGE1C,MAAL,CAAYG,MAAZ,AUHN,CVGyBnJ,AUHAwL,CVGnB,EAAsB,CAAtB,IUHN,EAAmCC,KAAnC,EAA0C9J,KAA1C,EAAiD;AAC/C,SAAO,UAASkK,MAAT,EAAiB;AVGpB,AUFF,QAAIC,GVEG/C,GUFG,EVER,CAAW5B,AUFAgE,KAAb,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","file":"src.d808b835.js","sourceRoot":"../src","sourcesContent":["\r\n/**\r\n * Generates the SVG element g which will contain the data visualisation.\r\n *\r\n * @param {object} margin The desired margins around the graph\r\n * @returns {*} The d3 Selection for the created g element\r\n */\r\nexport function generateG (margin) {\r\n  return d3.select('.graph')\r\n    .select('svg')\r\n    .append('g')\r\n    .attr('id', 'graph-g')\r\n    .attr('transform',\r\n      'translate(' + margin.left + ',' + margin.top + ')')\r\n}\r\n\r\n/**\r\n * Sets the size of the SVG canvas containing the graph.\r\n *\r\n * @param {number} width The desired width\r\n * @param {number} height The desired height\r\n */\r\nexport function setCanvasSize (width, height) {\r\n  d3.select('#line-chart')\r\n    .attr('width', width)\r\n    .attr('height', height)\r\n}\r\n\r\n/**\r\n * Appends an SVG g element which will contain the axes.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function appendAxes (g) {\r\n  g.append('g')\r\n    .attr('class', 'x axis')\r\n\r\n  g.append('g')\r\n    .attr('class', 'y axis')\r\n}\r\n/**\r\n * Appends the labels for the the y axis and the title of the graph.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function appendGraphLabels (g) {\r\n  g.append('text')\r\n    .text(\"Nombre d'accidents à Montréal\")\r\n    .attr('class', 'y axis-text')\r\n    .attr('transform', 'rotate(-90)')\r\n    .attr('font-size', 12)\r\n\r\n  g.append('text')\r\n    .text('Date')\r\n    .attr('class', 'x axis-text')\r\n    .attr('font-size', 12)\r\n}\r\n\r\n/**\r\n * Draws the X axis at the bottom of the diagram.\r\n *\r\n * @param {*} xScale The scale to use to draw the axis\r\n * @param {number} height The height of the graphic\r\n */\r\nexport function drawXAxis (xScale, height) {\r\n  d3.select('.x.axis')\r\n    .attr('transform', 'translate( 0, ' + height + ')')\r\n    .call(d3.axisBottom(xScale).tickSizeOuter(0))\r\n}\r\n\r\n/**\r\n * Draws the Y axis to the left of the diagram.\r\n *\r\n * @param {*} yScale The scale to use to draw the axis\r\n */\r\nexport function drawYAxis (yScale) {\r\n  d3.select('.y.axis')\r\n    .call(d3.axisLeft(yScale).tickSizeOuter(0).tickArguments([5, '.0r']))\r\n}\r\n\r\n/**\r\n * Places the graph's title.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n */\r\nexport function placeTitle (g) {\r\n  g.append('text')\r\n    .attr('class', 'title')\r\n    .attr('x', 0)\r\n    .attr('y', -20)\r\n    .attr('font-size', 14)\r\n}\r\n\r\n/**\r\n * Draws the button to toggle the display year.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {number} year The year to display\r\n * @param {number} width The width of the graph, used to place the button\r\n */\r\nexport function drawButton (g, year, width) {\r\n  const button = g.append('g')\r\n    .attr('class', 'button')\r\n    .attr('transform', 'translate(' + width + ', 140)')\r\n    .attr('width', 130)\r\n    .attr('height', 25)\r\n\r\n  button.append('rect')\r\n    .attr('width', 130)\r\n    .attr('height', 30)\r\n    .attr('fill', '#f4f6f4')\r\n    .on('mouseenter', function () {\r\n      d3.select(this).attr('stroke', '#362023')\r\n    })\r\n    .on('mouseleave', function () {\r\n      d3.select(this).attr('stroke', '#f4f6f4')\r\n    })\r\n\r\n  button.append('text')\r\n    .attr('x', 65)\r\n    .attr('y', 15)\r\n    .attr('text-anchor', 'middle')\r\n    .attr('dominant-baseline', 'middle')\r\n    .attr('class', 'button-text')\r\n    .text('See ' + year + ' dataset')\r\n    .attr('font-size', '10px')\r\n    .attr('fill', '#362023')\r\n}\r\n","/**\r\n * Defines the log scale used to position the center of the circles in X.\r\n *\r\n * @param {number} width The width of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in X\r\n */\r\nexport function setXScale (width, data) {\r\n  // TODO : Set scale\r\n  // const dates = []\r\n  // data.map(d => dates.push(d.date))\r\n  var xScale = d3.scaleTime()\r\n    .domain(d3.extent(data, function (d) { return d.date }))\r\n    .range([0, width])\r\n\r\n  return xScale\r\n}\r\n\r\n/**\r\n * Defines the log scale used to position the center of the circles in Y.\r\n *\r\n * @param {number} height The height of the graph\r\n * @param {object} data The data to be used\r\n * @returns {*} The linear scale in Y\r\n */\r\nexport function setYScale (height, data) {\r\n  // TODO : Set scale\r\n  var max = d3.max(data, d => d.nombre)\r\n  var yScale = d3.scaleLinear()\r\n    .domain([0, max])\r\n    .range([height, 0])\r\n  return yScale\r\n}\r\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./src/dispatch\";\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export {default as drag} from \"./drag\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag\";\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export {default as path} from \"./path.js\";\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {epsilon, pi, halfPi, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = Math.abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * Math.cos(a0), r1 * Math.sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * Math.cos(a1), r0 * Math.sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : Math.sqrt(r0 * r0 + r1 * r1)),\n          rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * Math.sin(ap)),\n            p1 = asin(rp / r1 * Math.sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * Math.cos(a01),\n          y01 = r1 * Math.sin(a01),\n          x10 = r0 * Math.cos(a10),\n          y10 = r0 * Math.sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * Math.cos(a11),\n            y11 = r1 * Math.sin(a11),\n            x00 = r0 * Math.cos(a00),\n            y00 = r0 * Math.sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2),\n              lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n          rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, Math.atan2(t0.y01, t0.x01), Math.atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, Math.atan2(t0.y01, t0.x01), Math.atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, Math.atan2(t0.cy + t0.y11, t0.cx + t0.x11), Math.atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, Math.atan2(t1.y11, t1.x11), Math.atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, Math.atan2(t0.y01, t0.x01), Math.atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, Math.atan2(t0.y01, t0.x01), Math.atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, Math.atan2(t0.cy + t0.y11, t0.cx + t0.x11), Math.atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, Math.atan2(t1.y11, t1.x11), Math.atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [Math.cos(a) * r, Math.sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function radialLine(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return radialLine(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {radialLine} from \"./radialLine\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return radialLine(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return radialLine(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return radialLine(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return radialLine(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export var slice = Array.prototype.slice;\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (var j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export {default as arc} from \"./src/arc\";\nexport {default as area} from \"./src/area\";\nexport {default as line} from \"./src/line\";\nexport {default as pie} from \"./src/pie\";\nexport {default as radialArea} from \"./src/radialArea\";\nexport {default as radialLine} from \"./src/radialLine\";\n\nexport {default as symbol, symbols} from \"./src/symbol\";\nexport {default as symbolCircle} from \"./src/symbol/circle\";\nexport {default as symbolCross} from \"./src/symbol/cross\";\nexport {default as symbolDiamond} from \"./src/symbol/diamond\";\nexport {default as symbolSquare} from \"./src/symbol/square\";\nexport {default as symbolStar} from \"./src/symbol/star\";\nexport {default as symbolTriangle} from \"./src/symbol/triangle\";\nexport {default as symbolWye} from \"./src/symbol/wye\";\n\nexport {default as curveBasisClosed} from \"./src/curve/basisClosed\";\nexport {default as curveBasisOpen} from \"./src/curve/basisOpen\";\nexport {default as curveBasis} from \"./src/curve/basis\";\nexport {default as curveBundle} from \"./src/curve/bundle\";\nexport {default as curveCardinalClosed} from \"./src/curve/cardinalClosed\";\nexport {default as curveCardinalOpen} from \"./src/curve/cardinalOpen\";\nexport {default as curveCardinal} from \"./src/curve/cardinal\";\nexport {default as curveCatmullRomClosed} from \"./src/curve/catmullRomClosed\";\nexport {default as curveCatmullRomOpen} from \"./src/curve/catmullRomOpen\";\nexport {default as curveCatmullRom} from \"./src/curve/catmullRom\";\nexport {default as curveLinearClosed} from \"./src/curve/linearClosed\";\nexport {default as curveLinear} from \"./src/curve/linear\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./src/curve/monotone\";\nexport {default as curveNatural} from \"./src/curve/natural\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./src/curve/step\";\n\nexport {default as stack} from \"./src/stack\";\nexport {default as stackOffsetExpand} from \"./src/offset/expand\";\nexport {default as stackOffsetNone} from \"./src/offset/none\";\nexport {default as stackOffsetSilhouette} from \"./src/offset/silhouette\";\nexport {default as stackOffsetWiggle} from \"./src/offset/wiggle\";\nexport {default as stackOrderAscending} from \"./src/order/ascending\";\nexport {default as stackOrderDescending} from \"./src/order/descending\";\nexport {default as stackOrderInsideOut} from \"./src/order/insideOut\";\nexport {default as stackOrderNone} from \"./src/order/none\";\nexport {default as stackOrderReverse} from \"./src/order/reverse\";\n","export default class Annotation {\n  constructor({\n    x = 0,\n    y = 0,\n    nx,\n    ny,\n    dy = 0,\n    dx = 0,\n    color = \"grey\",\n    data,\n    type,\n    subject,\n    connector,\n    note,\n    disable,\n    id,\n    className\n  }) {\n    this._dx = nx !== undefined ? nx - x : dx\n    this._dy = ny !== undefined ? ny - y : dy\n    this._x = x\n    this._y = y\n    this._color = color\n    this.id = id\n    this._className = className || \"\"\n\n    this._type = type || \"\"\n    this.data = data\n\n    this.note = note || {}\n    this.connector = connector || {}\n    this.subject = subject || {}\n\n    this.disable = disable || []\n  }\n\n  updatePosition() {\n    if (this.type.setPosition) {\n      this.type.setPosition()\n      if (\n        this.type.subject &&\n        this.type.subject.selectAll(\":not(.handle)\").nodes().length !== 0\n      ) {\n        this.type.redrawSubject()\n      }\n    }\n  }\n\n  clearComponents() {\n    this.type.clearComponents && this.type.clearComponents()\n  }\n\n  get className() {\n    return this._className\n  }\n\n  set className(className) {\n    this._className = className\n    if (this.type.setClassName) this.type.setClassName()\n  }\n\n  updateOffset() {\n    if (this.type.setOffset) {\n      this.type.setOffset()\n\n      if (this.type.connector.selectAll(\":not(.handle)\").nodes().length !== 0) {\n        this.type.redrawConnector()\n      }\n\n      this.type.redrawNote()\n    }\n  }\n\n  get type() {\n    return this._type\n  }\n\n  set type(type) {\n    this._type = type\n    this.clearComponents()\n  }\n\n  get x() {\n    return this._x\n  }\n  set x(x) {\n    this._x = x\n    this.updatePosition()\n  }\n\n  get y() {\n    return this._y\n  }\n  set y(y) {\n    this._y = y\n    this.updatePosition()\n  }\n\n  get color() {\n    return this._color\n  }\n  set color(color) {\n    this._color = color\n    this.updatePosition()\n  }\n\n  get dx() {\n    return this._dx\n  }\n  set dx(dx) {\n    this._dx = dx\n    this.updateOffset()\n  }\n\n  get dy() {\n    return this._dy\n  }\n  set dy(dy) {\n    this._dy = dy\n    this.updateOffset()\n  }\n\n  set nx(nx) {\n    this._dx = nx - this._x\n    this.updateOffset()\n  }\n\n  set ny(ny) {\n    this._dy = ny - this._y\n    this.updateOffset()\n  }\n\n  get offset() {\n    return { x: this._dx, y: this._dy }\n  }\n\n  set offset({ x, y }) {\n    this._dx = x\n    this._dy = y\n    this.updateOffset()\n  }\n\n  get position() {\n    return { x: this._x, y: this._y }\n  }\n\n  set position({ x, y }) {\n    this._x = x\n    this._y = y\n    this.updatePosition()\n  }\n\n  get translation() {\n    return {\n      x: this._x + this._dx,\n      y: this._y + this._dy\n    }\n  }\n\n  get json() {\n    const json = {\n      x: this._x,\n      y: this._y,\n      dx: this._dx,\n      dy: this._dy\n    }\n\n    if (this.data && Object.keys(this.data).length > 0) json.data = this.data\n    if (this.type) json.type = this.type\n    if (this._className) json.className = this._className\n\n    if (Object.keys(this.connector).length > 0) json.connector = this.connector\n    if (Object.keys(this.subject).length > 0) json.subject = this.subject\n    if (Object.keys(this.note).length > 0) json.note = this.note\n\n    return json\n  }\n}\n","export default class AnnotationCollection {\n\n  constructor ({ annotations, accessors, accessorsInverse }) {\n    this.accessors = accessors\n    this.accessorsInverse = accessorsInverse\n    this.annotations = annotations\n  }\n\n  clearTypes (newSettings) {\n    this.annotations.forEach(d => {\n      d.type = undefined\n      d.subject = newSettings && newSettings.subject || d.subject\n      d.connector = newSettings && newSettings.connector || d.connector\n      d.note = newSettings && newSettings.note || d.note\n    })\n  }\n\n  setPositionWithAccessors () {\n    this.annotations.forEach(d => {\n      d.type.setPositionWithAccessors(this.accessors)\n    })\n  }\n\n  editMode (editMode) { this.annotations.forEach(a => {\n    if (a.type) {\n      a.type.editMode = editMode\n      a.type.updateEditMode()\n    }\n  })\n  }\n\n  updateDisable (disable) {\n    this.annotations.forEach(a => {\n      a.disable = disable\n      if (a.type) {\n        disable.forEach(d => {\n          if (a.type[d]) {\n            a.type[d].remove && a.type[d].remove()\n            a.type[d] = undefined\n          }\n        })\n      }\n    })\n  }\n\n  updateTextWrap (textWrap) {\n    this.annotations.forEach(a => {\n      if (a.type && a.type.updateTextWrap) {\n        a.type.updateTextWrap(textWrap)\n      }\n    })\n  }\n\n  updateText () {\n    this.annotations.forEach(a => {\n      if (a.type && a.type.drawText) {\n        a.type.drawText()\n      }\n    })\n  }\n\n  updateNotePadding (notePadding) {\n    this.annotations.forEach(a => {\n      if (a.type) {\n        a.type.notePadding = notePadding\n      }\n    })\n  }\n\n  get json () { \n    return this.annotations.map(a => {      \n      const json = a.json\n      if (this.accessorsInverse && a.data) {\n        json.data = {}\n        Object.keys(this.accessorsInverse).forEach(k => {\n          json.data[k] = this.accessorsInverse[k]({ x: a.x, y: a.y})\n\n          //TODO make this feasible to map back to data for other types of subjects\n        })\n      }\n      return json\n    })\n  }\n\n  get noteNodes () {\n    return this.annotations.map(a => ({ ...a.type.getNoteBBoxOffset(), positionX: a.x, positionY: a.y }))\n  }\n\n  //TODO: come back and rethink if a.x and a.y are applicable in all situations\n  // get connectorNodes() {\n  //   return this.annotations.map(a => ({ ...a.type.getConnectorBBox(), startX: a.x, startY: a.y}))\n  // }\n\n  // get subjectNodes() {\n  //   return this.annotations.map(a => ({ ...a.type.getSubjectBBox(), startX: a.x, startY: a.y}))\n  // }\n\n  // get annotationNodes() {\n  //   return this.annotations.map(a => ({ ...a.type.getAnnotationBBox(), startX: a.x, startY: a.y}))\n  // }\n}\n","import { select } from \"d3-selection\"\nimport { drag } from \"d3-drag\"\n\nexport const pointHandle = ({ cx = 0, cy = 0 }) => {\n  return { move: { x: cx, y: cy } }\n}\n\nexport const circleHandles = ({ cx = 0, cy = 0, r1, r2, padding }) => {\n  const h = { move: { x: cx, y: cy } }\n\n  if (r1 !== undefined) {\n    h.r1 = { x: cx + r1 / Math.sqrt(2), y: cy + r1 / Math.sqrt(2) }\n  }\n\n  if (r2 !== undefined) {\n    h.r2 = { x: cx + r2 / Math.sqrt(2), y: cy + r2 / Math.sqrt(2) }\n  }\n\n  if (padding !== undefined) {\n    h.padding = { x: cx + r1 + padding, y: cy }\n  }\n\n  return h\n}\n\nexport const rectHandles = ({\n  x1 = 0,\n  y1 = 0,\n  x2 = x1,\n  y2 = y1,\n  width,\n  height\n}) => {\n  const w = width || Math.abs(x2 - x1)\n  const h = height || Math.abs(y2 - y1)\n\n  return {\n    move: {\n      x: Math.min(x1, x2) + w / 2,\n      y: Math.min(y1, y2) - 10\n    },\n    width: {\n      x: Math.max(x1, x2),\n      y: Math.min(y1, y2) + h / 2\n    },\n    height: {\n      x: Math.min(x1, x2) + w / 2,\n      y: Math.max(y1, y2)\n    }\n  }\n}\n\nexport const lineHandles = ({ x1, y1, x2, y2, x, y }) => {\n  const minY = Math.min(y1, y2)\n  const minX = Math.min(x1, x2)\n\n  const height = Math.abs(y2 - y1)\n  const width = Math.abs(x2 - x1)\n\n  return {\n    move: {\n      x: x || minX + width / 2,\n      y: y || minY + height / 2\n    }\n  }\n}\n\n//arc handles\nexport const addHandles = ({ group, handles, r = 10 }) => {\n  //give it a group and x,y to draw handles\n  //then give it instructions on what the handles change\n  const h = group.selectAll(\"circle.handle\").data(handles)\n\n  h\n    .enter()\n    .append(\"circle\")\n    .attr(\"class\", \"handle\")\n    .attr(\"fill\", \"grey\")\n    .attr(\"fill-opacity\", 0.1)\n    .attr(\"cursor\", \"move\")\n    .attr(\"stroke-dasharray\", 5)\n    .attr(\"stroke\", \"grey\")\n    .call(\n      drag()\n        .container(select(\"g.annotations\").node())\n        .on(\"start\", d => d.start && d.start(d))\n        .on(\"drag\", d => d.drag && d.drag(d))\n        .on(\"end\", d => d.end && d.end(d))\n    )\n\n  group\n    .selectAll(\"circle.handle\")\n    .attr(\"cx\", d => d.x)\n    .attr(\"cy\", d => d.y)\n    .attr(\"r\", d => d.r || r)\n    .attr(\"class\", d => `handle ${d.className || \"\"}`)\n\n  h.exit().remove()\n}\n","\nexport const leftRightDynamic = (align, y) => {\n  if (align === \"dynamic\" || align === \"left\" || align === \"right\") {\n    if (y < 0) { align = \"top\" }\n    else { align = \"bottom\" } \n  }\n  return align\n}\n\nexport const topBottomDynamic = (align, x) => {\n  if (align === \"dynamic\" || align === \"top\" || align === \"bottom\") {\n    if (x < 0) { align = \"right\" }\n    else { align = \"left\" }      \n  }\n  return align\n}\n\nconst orientationTopBottom = [\"topBottom\", \"top\", \"bottom\"]\nconst orientationLeftRight = [\"leftRight\", \"left\", \"right\"]\n\nexport default ({ padding=0, bbox={x:0, y:0, width:0, height:0}, align, orientation, offset={x:0, y:0} }) => {\n  let x = -bbox.x \n  let y = 0//-bbox.y\n  if ( orientationTopBottom.indexOf(orientation) !== -1 ) {\n    align = topBottomDynamic(align, offset.x)\n    if (offset.y < 0 && orientation === \"topBottom\" || orientation === \"top\") { \n      y -= bbox.height + padding\n    } else {\n      y += padding\n    }\n\n    if ( align === \"middle\" ) {\n      x -= bbox.width/2\n    } else if (align === \"right\" ) {\n      x -= bbox.width\n    } \n\n  } else if ( orientationLeftRight.indexOf(orientation) !== -1 ) {\n    align = leftRightDynamic(align, offset.y)\n    if (offset.x < 0 && orientation === \"leftRight\" || orientation === \"left\") { \n      x -= bbox.width + padding\n    } else {\n      x += padding\n    }\n\n    if ( align === \"middle\" ) {\n      y -= bbox.height/2\n    } else if (align === \"top\" ) {\n      y -= bbox.height\n    }\n  } \n\n  return { x, y }\n}","import { line, arc, curveLinear } from \"d3-shape\"\n\nexport const lineBuilder = ({ data, curve=curveLinear, canvasContext, className, classID }) => { \n  const lineGen = line()\n    .curve(curve)\n\n  const builder = {\n    type: 'path',\n    className,\n    classID,\n    data\n  }\n\n  if (canvasContext) {\n    lineGen.context(canvasContext)\n    builder.pathMethods = lineGen\n\n  } else {\n    builder.attrs = {\n      d: lineGen(data)\n    }\n  }\n\n  return builder\n}\n\nexport const arcBuilder = ({ data, canvasContext, className, classID }) => {\n\n  const builder = {\n    type: 'path',\n    className,\n    classID,\n    data\n  }\n\n  const arcShape = arc()\n    .innerRadius(data.innerRadius || 0)\n    .outerRadius(data.outerRadius || data.radius || 2)\n    .startAngle(data.startAngle || 0)\n    .endAngle(data.endAngle || 2*Math.PI)\n\n  if (canvasContext) {\n    arcShape.context(canvasContext)\n    builder.pathMethods = lineGen\n\n  } else {\n    \n    builder.attrs = {\n      d: arcShape()\n    }\n  }\n\n  return builder\n}","import { lineBuilder } from '../Builder'\nimport { leftRightDynamic } from './alignment'\n\nexport default ({ align, x=0, y=0, bbox, offset }) => {\n  align = leftRightDynamic(align, offset.y)\n\n  if (align === \"top\") { y -= bbox.height } \n  else if (align === \"middle\") { y -= bbox.height/2 }\n\n  const data = [[x, y], [x, y + bbox.height]]\n  return { components: [lineBuilder({ data, className : \"note-line\" })] }\n}","import { lineBuilder } from '../Builder'\nimport { topBottomDynamic } from './alignment'\n\nexport default ({ align, x=0, y=0, offset, bbox }) => {\n  align = topBottomDynamic(align, offset.x)\n\n  if (align === \"right\") { x -= bbox.width }\n  else if (align === \"middle\") { x -= bbox.width/2 }\n\n  const data = [[x, y], [x + bbox.width, y]]\n  return { components: [lineBuilder({ data, className : \"note-line\" })] }\n}","import { lineBuilder } from '../Builder'\n\nexport const lineSetup = ({ type, subjectType }) => {\n  let annotation = type.annotation\n  let offset = annotation.position\n  \n  let x1 = annotation.x - offset.x,\n    x2 = x1 + annotation.dx,\n    y1 = annotation.y - offset.y,\n    y2 = y1 + annotation.dy\n\n\n  const subjectData = annotation.subject\n\n  if (subjectType === \"circle\" && (subjectData.outerRadius || subjectData.radius)) {\n    const h =  Math.sqrt((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2))\n    const angle = Math.asin(-y2/h)\n    const r = subjectData.outerRadius || subjectData.radius + (subjectData.radiusPadding || 0)\n\n    x1 = Math.abs(Math.cos(angle)*r)*(x2 < 0 ? -1 : 1)\n    y1 = Math.abs(Math.sin(angle)*r)*(y2 < 0 ? -1 : 1)\n\n  }\n\n  if (subjectType === \"rect\") {\n    const { width, height } = subjectData\n    \n    if (width > 0 && annotation.dx > 0 || width < 0 && annotation.dx < 0) {\n      if (Math.abs(width) > Math.abs(annotation.dx)) x1 = width/2\n      else x1 = width\n    } \n    if (height > 0 && annotation.dy > 0 || height < 0 && annotation.dy < 0) {\n      if (Math.abs(height) > Math.abs(annotation.dy)) y1 = height/2\n      else y1 = height\n    }\n    if (x1 === width/2 && y1 === height/2) { x1 = x2; y1 = y2;}\n  }\n\n\n  return [[x1, y1], [x2, y2]]\n}\n\nexport default (connectorData) => {\n  const data = lineSetup(connectorData)\n  return { components: [lineBuilder({ data, className : \"connector\" })]} \n}","import { lineBuilder } from '../Builder'\n\nexport default ({ type, subjectType }) => {\n\n  const annotation = type.annotation\n  const offset = annotation.position\n\n  let x1 = annotation.x - offset.x,\n    x2 = x1 + annotation.dx,\n    y1 = annotation.y - offset.y,\n    y2 = y1 + annotation.dy\n\n  const subjectData = annotation.subject\n\n  if (subjectType === \"rect\") {\n    const { width, height } = subjectData\n    \n    if (width > 0 && annotation.dx > 0 || width < 0 && annotation.dx < 0) {\n      if (Math.abs(width) > Math.abs(annotation.dx)) x1 = width/2\n      else x1 = width\n    } \n    if (height > 0 && annotation.dy > 0 || height < 0 && annotation.dy < 0) {\n      if (Math.abs(height) > Math.abs(annotation.dy)) y1 = height/2\n      else y1 = height\n    }\n    if (x1 === width/2 && y1 === height/2) { x1 = x2; y1 = y2;}\n  }\n\n  let data = [[x1, y1], [x2, y2]]\n\n  let diffY = y2 - y1\n  let diffX = x2 - x1\n  let xe = x2 \n  let ye = y2\n  let opposite = y2 < y1 && x2 > x1 || x2 < x1 && y2 > y1 ? -1 : 1\n\n  if (Math.abs(diffX) < Math.abs(diffY)) {\n    xe = x2\n    ye = y1 + diffX*opposite\n  } else {\n    ye = y2\n    xe = x1 + diffY*opposite\n  }\n  \n  if (subjectType === \"circle\" && (subjectData.outerRadius || subjectData.radius)) {\n    const r = (subjectData.outerRadius || subjectData.radius) + (subjectData.radiusPadding || 0)\n    const length = r/Math.sqrt(2)\n\n    if (Math.abs(diffX) > length && Math.abs(diffY) > length) {\n      x1 = length*(x2 < 0 ? -1 : 1)\n      y1 = length*(y2 < 0 ? -1 : 1)\n      data = [[x1, y1], [xe , ye ], [x2, y2]]\n\n    } else if (Math.abs(diffX) > Math.abs(diffY)) {\n      const angle = Math.asin(-y2/r)\n      x1 = Math.abs(Math.cos(angle)*r)*(x2 < 0 ? -1 : 1)\n      data = [[ x1, y2], [x2, y2]]\n    } else {\n      const angle = Math.acos(x2/r)\n      y1 = Math.abs(Math.sin(angle)*r)*(y2 < 0 ? -1 : 1)\n      data = [[ x2, y1], [x2, y2]]\n    }\n  } else {\n    data = [[x1, y1], [xe , ye], [x2, y2]]\n  }\n\n  return { components: [lineBuilder({ data, className: \"connector\"})]}\n}\n","import { lineBuilder } from '../Builder'\nimport { event } from 'd3-selection'\nimport { lineSetup } from './type-line'\nimport { curveCatmullRom } from 'd3-shape'\nimport { pointHandle } from '../Handles'\n\nexport default ({ type, connectorData, subjectType }) => {\n\n  if (!connectorData) { connectorData = {} }\n  if (!connectorData.points || typeof connectorData.points === \"number\") { \n    connectorData.points = createPoints(type.annotation.offset, connectorData.points) \n  }\n  if (!connectorData.curve) { connectorData.curve = curveCatmullRom }\n\n  let handles = []\n\n  if (type.editMode) {\n    const cHandles = connectorData.points\n      .map((c,i) => ({...pointHandle({cx: c[0], cy: c[1]}), index: i}))\n\n    const updatePoint = (index) => {      \n      connectorData.points[index][0] += event.dx\n      connectorData.points[index][1] += event.dy\n      type.redrawConnector()\n    }\n  \n    handles = type.mapHandles(cHandles\n      .map(h => ({ ...h.move, drag: updatePoint.bind(type, h.index)})))\n\n  }\n\n  let data = lineSetup({ type, subjectType })\n  data = [data[0], ...connectorData.points, data[1]]\n  const components = [lineBuilder({ data, curve: connectorData.curve, className: \"connector\" })]\n\n  return { components , handles }\n}\n\nconst createPoints = function ( offset, anchors=2) {\n  const diff = { x: offset.x/(anchors + 1), y: offset.y/(anchors + 1) }\n  const p = []\n\n  let i = 1 \n  for (; i <= anchors; i++) {\n    p.push([diff.x*i + i%2*20, diff.y*i - i%2*20])\n  }\n  return p\n}","import { lineBuilder } from \"../Builder\"\n\nexport default ({ annotation, start, end, scale = 1 }) => {\n  const offset = annotation.position\n  if (!start) {\n    start = [annotation.dx, annotation.dy]\n  } else {\n    start = [-end[0] + start[0], -end[1] + start[1]]\n  }\n  if (!end) {\n    end = [annotation.x - offset.x, annotation.y - offset.y]\n  }\n\n  let x1 = end[0],\n    y1 = end[1]\n\n  let dx = start[0]\n  let dy = start[1]\n\n  let size = 10 * scale\n  let angleOffset = 16 / 180 * Math.PI\n  let angle = Math.atan(dy / dx)\n\n  if (dx < 0) {\n    angle += Math.PI\n  }\n\n  const data = [\n    [x1, y1],\n    [\n      Math.cos(angle + angleOffset) * size + x1,\n      Math.sin(angle + angleOffset) * size + y1\n    ],\n    [\n      Math.cos(angle - angleOffset) * size + x1,\n      Math.sin(angle - angleOffset) * size + y1\n    ],\n    [x1, y1]\n  ]\n\n  //TODO add in reverse\n  // if (canvasContext.arrowReverse){\n  //   data = [[x1, y1],\n  //   [Math.cos(angle + angleOffset)*size, Math.sin(angle + angleOffset)*size],\n  //   [Math.cos(angle - angleOffset)*size, Math.sin(angle - angleOffset)*size],\n  //   [x1, y1]\n  //   ]\n  // } else {\n  //   data = [[x1, y1],\n  //   [Math.cos(angle + angleOffset)*size, Math.sin(angle + angleOffset)*size],\n  //   [Math.cos(angle - angleOffset)*size, Math.sin(angle - angleOffset)*size],\n  //   [x1, y1]\n  //   ]\n  // }\n\n  return {\n    components: [\n      lineBuilder({\n        data,\n        className: \"connector-end connector-arrow\",\n        classID: \"connector-end\"\n      })\n    ]\n  }\n}\n","import { arcBuilder } from \"../Builder\"\n\nexport default ({ line, scale = 1 }) => {\n  let dot = arcBuilder({\n    className: \"connector-end connector-dot\",\n    classID: \"connector-end\",\n    data: { radius: 3 * Math.sqrt(scale) }\n  })\n  dot.attrs.transform = `translate(${line.data[0][0]}, ${line.data[0][1]})`\n\n  return { components: [dot] }\n}\n","import { circleHandles } from \"../Handles\"\nimport { arcBuilder } from \"../Builder\"\nimport { event } from \"d3-selection\"\n\nexport default ({ subjectData, type }) => {\n  if (!subjectData.radius && !subjectData.outerRadius) {\n    subjectData.radius = 20\n  }\n\n  let handles = []\n  const c = arcBuilder({ data: subjectData, className: \"subject\" })\n  if (type.editMode) {\n    const h = circleHandles({\n      r1: c.data.outerRadius || c.data.radius,\n      r2: c.data.innerRadius,\n      padding: subjectData.radiusPadding\n    })\n\n    const updateRadius = attr => {\n      const r = subjectData[attr] + event.dx * Math.sqrt(2)\n      subjectData[attr] = r\n      type.redrawSubject()\n      type.redrawConnector()\n    }\n\n    const cHandles = [\n      {\n        ...h.r1,\n        drag: updateRadius.bind(\n          type,\n          subjectData.outerRadius !== undefined ? \"outerRadius\" : \"radius\"\n        )\n      }\n    ]\n\n    if (subjectData.innerRadius) {\n      cHandles.push({ ...h.r2, drag: updateRadius.bind(type, \"innerRadius\") })\n    }\n    handles = type.mapHandles(cHandles)\n  }\n\n  c.attrs[\"fill-opacity\"] = 0\n\n  return { components: [c], handles }\n}\n","import { lineBuilder } from \"../Builder\"\nimport { event } from \"d3-selection\"\n\nexport default ({ subjectData, type }) => {\n  if (!subjectData.width) {\n    subjectData.width = 100\n  }\n  if (!subjectData.height) {\n    subjectData.height = 100\n  }\n\n  let handles = []\n  let { width, height } = subjectData\n\n  const data = [[0, 0], [width, 0], [width, height], [0, height], [0, 0]]\n  let rect = lineBuilder({ data, className: \"subject\" })\n\n  if (type.editMode) {\n    const updateWidth = () => {\n      subjectData.width = event.x\n      type.redrawSubject()\n      type.redrawConnector()\n    }\n\n    const updateHeight = () => {\n      subjectData.height = event.y\n      type.redrawSubject()\n      type.redrawConnector()\n    }\n\n    const rHandles = [\n      { x: width, y: height / 2, drag: updateWidth.bind(type) },\n      { x: width / 2, y: height, drag: updateHeight.bind(type) }\n    ]\n\n    handles = type.mapHandles(rHandles)\n  }\n  rect.attrs[\"fill-opacity\"] = 0.1\n  return { components: [rect], handles }\n}\n","import { lineBuilder } from '../Builder'\n\n\nexport default ({ subjectData, type }) => {\n  const offset = type.annotation.position\n\n  let x1 = (subjectData.x1 !== undefined ? subjectData.x1 : offset.x) - offset.x,\n    x2 = (subjectData.x2 !== undefined ? subjectData.x2 : offset.x) - offset.x,\n    y1 = (subjectData.y1 !== undefined ? subjectData.y1 : offset.y) - offset.y,\n    y2 = (subjectData.y2 !== undefined ? subjectData.y2 : offset.y) - offset.y\n\n  const data = [[x1, y1], [x2, y2]]\n  return { components: [lineBuilder({ data, className : 'subject'})]}\n}","import { lineBuilder, arcBuilder } from \"../Builder\"\nimport { event } from \"d3-selection\"\n\nexport default ({ subjectData = {}, type = {} }, annotation = {}) => {\n  const typeSettings = type.typeSettings && type.typeSettings.subject\n\n  if (!subjectData.radius) {\n    if (typeSettings && typeSettings.radius) {\n      subjectData.radius = typeSettings.radius\n    } else {\n      subjectData.radius = 14\n    }\n  }\n  if (!subjectData.x) {\n    if (typeSettings && typeSettings.x) {\n      subjectData.x = typeSettings.x\n    }\n  }\n  if (!subjectData.y) {\n    if (typeSettings && typeSettings.y) {\n      subjectData.y = typeSettings.y\n    }\n  }\n\n  let handles = []\n  const components = []\n  const radius = subjectData.radius\n  const innerRadius = radius * 0.7\n  let x = 0\n  let y = 0\n\n  const notCornerOffset = Math.sqrt(2) * radius\n  const placement = {\n    xleftcorner: -radius,\n    xrightcorner: radius,\n    ytopcorner: -radius,\n    ybottomcorner: radius,\n    xleft: -notCornerOffset,\n    xright: notCornerOffset,\n    ytop: -notCornerOffset,\n    ybottom: notCornerOffset\n  }\n\n  if (subjectData.x && !subjectData.y) {\n    x = placement[`x${subjectData.x}`]\n  } else if (subjectData.y && !subjectData.x) {\n    y = placement[`y${subjectData.y}`]\n  } else if (subjectData.x && subjectData.y) {\n    x = placement[`x${subjectData.x}corner`]\n    y = placement[`y${subjectData.y}corner`]\n  }\n\n  const transform = `translate(${x}, ${y})`\n  const circlebg = arcBuilder({ className: \"subject\", data: { radius } })\n  circlebg.attrs.transform = transform\n  circlebg.attrs.fill = annotation.color\n  circlebg.attrs[\"stroke-linecap\"] = \"round\"\n  circlebg.attrs[\"stroke-width\"] = \"3px\"\n\n  const circle = arcBuilder({\n    className: \"subject-ring\",\n    data: { outerRadius: radius, innerRadius }\n  })\n\n  circle.attrs.transform = transform\n  // circle.attrs.fill = annotation.color\n  circle.attrs[\"stroke-width\"] = \"3px\"\n  circle.attrs.fill = \"white\"\n\n  let pointer\n  if (x && y || !x && !y) {\n    pointer = lineBuilder({\n      className: \"subject-pointer\",\n      data: [[0, 0], [x || 0, 0], [0, y || 0], [0, 0]]\n    })\n  } else if (x || y) {\n    const notCornerPointerXY = (v, sign = 1) =>\n      v && v / Math.sqrt(2) / Math.sqrt(2) || sign * radius / Math.sqrt(2)\n\n    pointer = lineBuilder({\n      className: \"subject-pointer\",\n      data: [\n        [0, 0],\n        [notCornerPointerXY(x), notCornerPointerXY(y)],\n        [notCornerPointerXY(x, -1), notCornerPointerXY(y, -1)],\n        [0, 0]\n      ]\n    })\n  }\n\n  if (pointer) {\n    pointer.attrs.fill = annotation.color\n    pointer.attrs[\"stroke-linecap\"] = \"round\"\n    pointer.attrs[\"stroke-width\"] = \"3px\"\n    components.push(pointer)\n  }\n\n  if (type.editMode) {\n    const dragBadge = () => {\n      subjectData.x =\n        event.x < -radius * 2\n          ? \"left\"\n          : event.x > radius * 2 ? \"right\" : undefined\n      subjectData.y =\n        event.y < -radius * 2\n          ? \"top\"\n          : event.y > radius * 2 ? \"bottom\" : undefined\n\n      type.redrawSubject()\n    }\n\n    const bHandles = { x: x * 2, y: y * 2, drag: dragBadge.bind(type) }\n    if (!bHandles.x && !bHandles.y) {\n      bHandles.y = -radius\n    }\n\n    handles = type.mapHandles([bHandles])\n  }\n\n  let text\n  if (subjectData.text) {\n    text = {\n      type: \"text\",\n      className: \"badge-text\",\n      attrs: {\n        fill: \"white\",\n        stroke: \"none\",\n        \"font-size\": \".7em\",\n        text: subjectData.text,\n        \"text-anchor\": \"middle\",\n        dy: \".25em\",\n        x,\n        y\n      }\n    }\n  }\n\n  components.push(circlebg)\n  components.push(circle)\n  components.push(text)\n\n  return { components, handles }\n}\n","import { select, event } from \"d3-selection\"\nimport { drag } from \"d3-drag\"\nimport { addHandles } from \"./Handles\"\n\n//Note options\nimport noteAlignment from \"./Note/alignment\"\nimport noteVertical from \"./Note/lineType-vertical\"\nimport noteHorizontal from \"./Note/lineType-horizontal\"\n\n//Connector options\nimport connectorLine from \"./Connector/type-line\"\nimport connectorElbow from \"./Connector/type-elbow\"\nimport connectorCurve from \"./Connector/type-curve\"\nimport connectorArrow from \"./Connector/end-arrow\"\nimport connectorDot from \"./Connector/end-dot\"\n\n//Subject options\nimport subjectCircle from \"./Subject/circle\"\nimport subjectRect from \"./Subject/rect\"\nimport subjectThreshold from \"./Subject/threshold\"\nimport subjectBadge from \"./Subject/badge\"\n\nexport class Type {\n  constructor({ a, annotation, editMode, dispatcher, notePadding, accessors }) {\n    this.a = a\n\n    this.note =\n      annotation.disable.indexOf(\"note\") === -1 && a.select(\"g.annotation-note\")\n    this.noteContent = this.note && a.select(\"g.annotation-note-content\")\n    this.connector =\n      annotation.disable.indexOf(\"connector\") === -1 &&\n      a.select(\"g.annotation-connector\")\n    this.subject =\n      annotation.disable.indexOf(\"subject\") === -1 &&\n      a.select(\"g.annotation-subject\")\n    this.dispatcher = dispatcher\n\n    if (dispatcher) {\n      const handler = addHandlers.bind(null, dispatcher, annotation)\n      handler({ component: this.note, name: \"note\" })\n      handler({ component: this.connector, name: \"connector\" })\n      handler({ component: this.subject, name: \"subject\" })\n    }\n\n    this.annotation = annotation\n    this.editMode = annotation.editMode || editMode\n    this.notePadding = notePadding !== undefined ? notePadding : 3\n    this.offsetCornerX = 0\n    this.offsetCornerY = 0\n\n    if (accessors && annotation.data) {\n      this.init(accessors)\n    }\n  }\n\n  init(accessors) {\n    if (!this.annotation.x) {\n      this.mapX(accessors)\n    }\n    if (!this.annotation.y) {\n      this.mapY(accessors)\n    }\n  }\n\n  mapY(accessors) {\n    if (accessors.y) {\n      this.annotation.y = accessors.y(this.annotation.data)\n    }\n  }\n\n  mapX(accessors) {\n    if (accessors.x) {\n      this.annotation.x = accessors.x(this.annotation.data)\n    }\n  }\n\n  updateEditMode() {\n    this.a.selectAll(\"circle.handle\").remove()\n  }\n\n  drawOnSVG(component, builders) {\n    if (!Array.isArray(builders)) {\n      builders = [builders]\n    }\n\n    builders\n      .filter(b => b)\n      .forEach(({ type, className, attrs, handles, classID }) => {\n        if (type === \"handle\") {\n          addHandles({ group: component, r: attrs && attrs.r, handles })\n        } else {\n          newWithClass(component, [this.annotation], type, className, classID)\n          const el = component.select(`${type}.${classID || className}`)\n          const addAttrs = Object.keys(attrs)\n          const removeAttrs = []\n\n          const currentAttrs = el.node().attributes\n          for (let i = currentAttrs.length - 1; i >= 0; i--) {\n            const name = currentAttrs[i].name\n            if (addAttrs.indexOf(name) === -1 && name !== \"class\")\n              removeAttrs.push(name)\n          }\n\n          addAttrs.forEach(attr => {\n            if (attr === \"text\") {\n              el.text(attrs[attr])\n            } else {\n              el.attr(attr, attrs[attr])\n            }\n          })\n\n          removeAttrs.forEach(attr => el.attr(attr, null))\n        }\n      })\n  }\n\n  //TODO: how to extend this to a drawOnCanvas mode?\n\n  getNoteBBox() {\n    return bboxWithoutHandles(this.note, \".annotation-note-content text\")\n  }\n  getNoteBBoxOffset() {\n    const bbox = bboxWithoutHandles(this.note, \".annotation-note-content\")\n    const transform = this.noteContent.attr(\"transform\").split(/\\(|\\,|\\)/g)\n    bbox.offsetCornerX = parseFloat(transform[1]) + this.annotation.dx\n    bbox.offsetCornerY = parseFloat(transform[2]) + this.annotation.dy\n    bbox.offsetX = this.annotation.dx\n    bbox.offsetY = this.annotation.dy\n    return bbox\n  }\n\n  drawSubject(context = {}) {\n    const subjectData = this.annotation.subject\n    const type = context.type\n    const subjectParams = { type: this, subjectData }\n\n    let subject = {}\n    if (type === \"circle\") subject = subjectCircle(subjectParams)\n    else if (type === \"rect\") subject = subjectRect(subjectParams)\n    else if (type === \"threshold\") subject = subjectThreshold(subjectParams)\n    else if (type === \"badge\")\n      subject = subjectBadge(subjectParams, this.annotation)\n\n    let { components = [], handles = [] } = subject\n    components.forEach(c => {\n      if (c && c.attrs && !c.attrs.stroke) {\n        c.attrs.stroke = this.annotation.color\n      }\n    })\n\n    if (this.editMode) {\n      handles = handles.concat(\n        this.mapHandles([{ drag: this.dragSubject.bind(this) }])\n      )\n      components.push({ type: \"handle\", handles })\n    }\n\n    return components\n  }\n\n  drawConnector(context = {}) {\n    const connectorData = this.annotation.connector\n    const type = connectorData.type || context.type\n    const connectorParams = { type: this, connectorData }\n    connectorParams.subjectType =\n      this.typeSettings &&\n      this.typeSettings.subject &&\n      this.typeSettings.subject.type\n\n    let connector = {}\n    if (type === \"curve\") connector = connectorCurve(connectorParams)\n    else if (type === \"elbow\") connector = connectorElbow(connectorParams)\n    else connector = connectorLine(connectorParams)\n    let { components = [], handles = [] } = connector\n    const line = components[0]\n    //TODO: genericize this into fill t/f stroke t/f\n    if (line) {\n      line.attrs.stroke = this.annotation.color\n      line.attrs.fill = \"none\"\n    }\n    const endType = connectorData.end || context.end\n    let end = {}\n    if (endType === \"arrow\") {\n      let s = line.data[1]\n      const e = line.data[0]\n      const distance = Math.sqrt(\n        Math.pow(s[0] - e[0], 2) + Math.pow(s[1] - e[1], 2)\n      )\n      if (distance < 5 && line.data[2]) {\n        s = line.data[2]\n      }\n      end = connectorArrow({\n        annotation: this.annotation,\n        start: s,\n        end: e,\n        scale: connectorData.endScale\n      })\n    } else if (endType === \"dot\") {\n      end = connectorDot({ line, scale: connectorData.endScale })\n    } else if (!endType || endType === \"none\") {\n      this.connector && this.connector.select(\".connector-end\").remove()\n    }\n\n    if (end.components) {\n      end.components.forEach(c => {\n        c.attrs.fill = this.annotation.color\n        c.attrs.stroke = this.annotation.color\n      })\n      components = components.concat(end.components)\n    }\n\n    if (this.editMode) {\n      if (handles.length !== 0) components.push({ type: \"handle\", handles })\n    }\n    return components\n  }\n\n  drawNote(context = {}) {\n    const noteData = this.annotation.note\n    const align = noteData.align || context.align || \"dynamic\"\n    const noteParams = {\n      bbox: context.bbox,\n      align,\n      offset: this.annotation.offset\n    }\n    const lineType = noteData.lineType || context.lineType\n    let note = {}\n    if (lineType === \"vertical\") note = noteVertical(noteParams)\n    else if (lineType === \"horizontal\") note = noteHorizontal(noteParams)\n\n    let { components = [], handles = [] } = note\n    components.forEach(c => {\n      c.attrs.stroke = this.annotation.color\n    })\n\n    if (this.editMode) {\n      handles = this.mapHandles([\n        { x: 0, y: 0, drag: this.dragNote.bind(this) }\n      ])\n      components.push({ type: \"handle\", handles })\n\n      const dragging = this.dragNote.bind(this),\n        start = this.dragstarted.bind(this),\n        end = this.dragended.bind(this)\n      this.note.call(\n        drag()\n          .container(select(\"g.annotations\").node())\n          .on(\"start\", d => start(d))\n          .on(\"drag\", d => dragging(d))\n          .on(\"end\", d => end(d))\n      )\n    } else {\n      this.note.on(\"mousedown.drag\", null)\n    }\n    return components\n  }\n\n  drawNoteContent(context) {\n    const noteData = this.annotation.note\n    const padding =\n      noteData.padding !== undefined ? noteData.padding : this.notePadding\n    let orientation = noteData.orientation || context.orientation || \"topBottom\"\n    const lineType = noteData.lineType || context.lineType\n    const align = noteData.align || context.align || \"dynamic\"\n\n    if (lineType === \"vertical\") orientation = \"leftRight\"\n    else if (lineType === \"horizontal\") orientation = \"topBottom\"\n\n    const noteParams = {\n      padding,\n      bbox: context.bbox,\n      offset: this.annotation.offset,\n      orientation,\n      align\n    }\n    const { x, y } = noteAlignment(noteParams)\n    this.offsetCornerX = x + this.annotation.dx\n    this.offsetCornerY = y + this.annotation.dy\n    this.note && this.noteContent.attr(\"transform\", `translate(${x}, ${y})`)\n\n    return []\n  }\n\n  drawOnScreen(component, drawFunction) {\n    return this.drawOnSVG(component, drawFunction)\n  }\n\n  redrawSubject() {\n    this.subject && this.drawOnScreen(this.subject, this.drawSubject())\n  }\n\n  redrawConnector() {\n    this.connector && this.drawOnScreen(this.connector, this.drawConnector())\n  }\n\n  redrawNote(bbox = this.getNoteBBox()) {\n    this.noteContent &&\n      this.drawOnScreen(this.noteContent, this.drawNoteContent({ bbox }))\n    this.note && this.drawOnScreen(this.note, this.drawNote({ bbox }))\n  }\n\n  setPosition() {\n    const position = this.annotation.position\n    this.a.attr(\"transform\", `translate(${position.x}, ${position.y})`)\n  }\n\n  clearComponents() {\n    this.subject && this.subject.select(\"*\").remove()\n    this.connector && this.connector.select(\"*\").remove()\n    // this.note && this.note.select(\"*\").remove()\n  }\n\n  setOffset() {\n    if (this.note) {\n      const offset = this.annotation.offset\n      this.note.attr(\"transform\", `translate(${offset.x}, ${offset.y})`)\n    }\n  }\n\n  setPositionWithAccessors(accessors) {\n    if (accessors && this.annotation.data) {\n      this.mapX(accessors)\n      this.mapY(accessors)\n    }\n    this.setPosition()\n  }\n\n  setClassName() {\n    this.a.attr(\n      \"class\",\n      `annotation ${this.className && this.className()} ${\n        this.editMode ? \"editable\" : \"\"\n      } ${this.annotation.className || \"\"}`\n    )\n  }\n\n  draw() {\n    this.setClassName()\n    this.setPosition()\n    this.setOffset()\n    this.redrawSubject()\n    this.redrawConnector()\n    this.redrawNote()\n  }\n\n  dragstarted() {\n    event.sourceEvent.stopPropagation()\n    this.dispatcher &&\n      this.dispatcher.call(\"dragstart\", this.a, this.annotation)\n    this.a.classed(\"dragging\", true)\n    this.a.selectAll(\"circle.handle\").style(\"pointer-events\", \"none\")\n  }\n  dragended() {\n    this.dispatcher && this.dispatcher.call(\"dragend\", this.a, this.annotation)\n    this.a.classed(\"dragging\", false)\n    this.a.selectAll(\"circle.handle\").style(\"pointer-events\", \"all\")\n  }\n\n  dragSubject() {\n    const position = this.annotation.position\n    position.x += event.dx\n    position.y += event.dy\n    this.annotation.position = position\n  }\n\n  dragNote() {\n    const offset = this.annotation.offset\n    offset.x += event.dx\n    offset.y += event.dy\n    this.annotation.offset = offset\n  }\n\n  mapHandles(handles) {\n    return handles.map(h => ({\n      ...h,\n      start: this.dragstarted.bind(this),\n      end: this.dragended.bind(this)\n    }))\n  }\n}\n\nexport const customType = (initialType, typeSettings, init) => {\n  return class customType extends initialType {\n    constructor(settings) {\n      super(settings)\n      this.typeSettings = typeSettings\n\n      if (typeSettings.disable) {\n        typeSettings.disable.forEach(d => {\n          this[d] && this[d].remove()\n\n          this[d] = undefined\n          if (d === \"note\") {\n            this.noteContent = undefined\n          }\n        })\n      }\n    }\n\n    static init(annotation, accessors) {\n      super.init(annotation, accessors)\n      if (init) {\n        annotation = init(annotation, accessors)\n      }\n      return annotation\n    }\n\n    className() {\n      return `${typeSettings.className ||\n        super.className && super.className() ||\n        \"\"}`\n    }\n\n    drawSubject(context) {\n      this.typeSettings.subject = Object.assign(\n        {},\n        typeSettings.subject,\n        this.typeSettings.subject\n      )\n      return super.drawSubject({ ...context, ...this.typeSettings.subject })\n    }\n\n    drawConnector(context) {\n      this.typeSettings.connector = Object.assign(\n        {},\n        typeSettings.connector,\n        this.typeSettings.connector\n      )\n      return super.drawConnector({\n        ...context,\n        ...typeSettings.connector,\n        ...this.typeSettings.connector\n      })\n    }\n\n    drawNote(context) {\n      this.typeSettings.note = Object.assign(\n        {},\n        typeSettings.note,\n        this.typeSettings.note\n      )\n      return super.drawNote({\n        ...context,\n        ...typeSettings.note,\n        ...this.typeSettings.note\n      })\n    }\n\n    drawNoteContent(context) {\n      return super.drawNoteContent({\n        ...context,\n        ...typeSettings.note,\n        ...this.typeSettings.note\n      })\n    }\n  }\n}\n\nexport class d3NoteText extends Type {\n  constructor(params) {\n    super(params)\n    this.textWrap = params.textWrap || 120\n    this.drawText()\n  }\n\n  updateTextWrap(textWrap) {\n    this.textWrap = textWrap\n    this.drawText()\n  }\n\n  //TODO: add update text functionality\n\n  drawText() {\n    if (this.note) {\n      newWithClass(this.note, [this.annotation], \"g\", \"annotation-note-content\")\n\n      const noteContent = this.note.select(\"g.annotation-note-content\")\n      newWithClass(noteContent, [this.annotation], \"rect\", \"annotation-note-bg\")\n      newWithClass(\n        noteContent,\n        [this.annotation],\n        \"text\",\n        \"annotation-note-label\"\n      )\n      newWithClass(\n        noteContent,\n        [this.annotation],\n        \"text\",\n        \"annotation-note-title\"\n      )\n\n      let titleBBox = { height: 0 }\n      const label = this.a.select(\"text.annotation-note-label\")\n      const wrapLength =\n        this.annotation.note && this.annotation.note.wrap ||\n        this.typeSettings &&\n          this.typeSettings.note &&\n          this.typeSettings.note.wrap ||\n        this.textWrap\n\n      const wrapSplitter =\n        this.annotation.note && this.annotation.note.wrapSplitter ||\n        this.typeSettings &&\n          this.typeSettings.note &&\n          this.typeSettings.note.wrapSplitter\n\n      let bgPadding =\n        this.annotation.note && this.annotation.note.bgPadding ||\n        this.typeSettings &&\n          this.typeSettings.note &&\n          this.typeSettings.note.bgPadding\n\n      let bgPaddingFinal = { top: 0, bottom: 0, left: 0, right: 0 }\n      if (typeof bgPadding === \"number\") {\n        bgPaddingFinal = {\n          top: bgPadding,\n          bottom: bgPadding,\n          left: bgPadding,\n          right: bgPadding\n        }\n      } else if (bgPadding && typeof bgPadding === \"object\") {\n        bgPaddingFinal = Object.assign(bgPaddingFinal, bgPadding)\n      }\n\n      if (this.annotation.note.title) {\n        const title = this.a.select(\"text.annotation-note-title\")\n        title.text(this.annotation.note.title)\n        title.attr(\"fill\", this.annotation.color)\n        title.attr(\"font-weight\", \"bold\")\n        title.call(wrap, wrapLength, wrapSplitter)\n        titleBBox = title.node().getBBox()\n      }\n\n      label.text(this.annotation.note.label).attr(\"dx\", \"0\")\n      label.call(wrap, wrapLength, wrapSplitter)\n\n      label.attr(\"y\", titleBBox.height * 1.1 || 0)\n      label.attr(\"fill\", this.annotation.color)\n\n      const bbox = this.getNoteBBox()\n\n      this.a\n        .select(\"rect.annotation-note-bg\")\n        .attr(\"width\", bbox.width + bgPaddingFinal.left + bgPaddingFinal.right)\n        .attr(\n          \"height\",\n          bbox.height + bgPaddingFinal.top + bgPaddingFinal.bottom\n        )\n        .attr(\"x\", bbox.x - bgPaddingFinal.left)\n        .attr(\"y\", -bgPaddingFinal.top)\n        .attr(\"fill\", \"white\")\n        .attr(\"fill-opacity\", 0)\n    }\n  }\n}\n\nexport const d3Label = customType(d3NoteText, {\n  className: \"label\",\n  note: { align: \"middle\" }\n})\n\nexport const d3Callout = customType(d3NoteText, {\n  className: \"callout\",\n  note: { lineType: \"horizontal\" }\n})\n\nexport const d3CalloutElbow = customType(d3Callout, {\n  className: \"callout elbow\",\n  connector: { type: \"elbow\" }\n})\n\nexport const d3CalloutCurve = customType(d3Callout, {\n  className: \"callout curve\",\n  connector: { type: \"curve\" }\n})\n\nexport const d3Badge = customType(Type, {\n  className: \"badge\",\n  subject: { type: \"badge\" },\n  disable: [\"connector\", \"note\"]\n})\n\nexport const d3CalloutCircle = customType(d3NoteText, {\n  className: \"callout circle\",\n  subject: { type: \"circle\" },\n  note: { lineType: \"horizontal\" },\n  connector: { type: \"elbow\" }\n})\n\nexport const d3CalloutRect = customType(d3NoteText, {\n  className: \"callout rect\",\n  subject: { type: \"rect\" },\n  note: { lineType: \"horizontal\" },\n  connector: { type: \"elbow\" }\n})\n\nclass ThresholdMap extends d3Callout {\n  mapY(accessors) {\n    super.mapY(accessors)\n    const a = this.annotation\n    if ((a.subject.x1 || a.subject.x2) && a.data && accessors.y) {\n      a.y = accessors.y(a.data)\n    }\n    if ((a.subject.x1 || a.subject.x2) && !a.x) {\n      a.x = a.subject.x1 || a.subject.x2\n    }\n  }\n\n  mapX(accessors) {\n    super.mapX(accessors)\n    const a = this.annotation\n    if ((a.subject.y1 || a.subject.y2) && a.data && accessors.x) {\n      a.x = accessors.x(a.data)\n    }\n    if ((a.subject.y1 || a.subject.y2) && !a.y) {\n      a.y = a.subject.y1 || a.subject.y2\n    }\n  }\n}\n\nexport const d3XYThreshold = customType(ThresholdMap, {\n  className: \"callout xythreshold\",\n  subject: { type: \"threshold\" }\n})\n\nexport const newWithClass = (a, d, type, className, classID) => {\n  const group = a.selectAll(`${type}.${classID || className}`).data(d)\n  group\n    .enter()\n    .append(type)\n    .merge(group)\n    .attr(\"class\", className)\n\n  group.exit().remove()\n  return a\n}\n\nconst addHandlers = (dispatcher, annotation, { component, name }) => {\n  if (component) {\n    component\n      .on(\"mouseover.annotations\", () => {\n        dispatcher.call(`${name}over`, component, annotation)\n      })\n      .on(\"mouseout.annotations\", () =>\n        dispatcher.call(`${name}out`, component, annotation)\n      )\n      .on(\"click.annotations\", () =>\n        dispatcher.call(`${name}click`, component, annotation)\n      )\n  }\n}\n\n//Text wrapping code adapted from Mike Bostock\nconst wrap = (text, width, wrapSplitter, lineHeight = 1.2) => {\n  text.each(function() {\n    const text = select(this),\n      words = text\n        .text()\n        .split(wrapSplitter || /[ \\t\\r\\n]+/)\n        .reverse()\n        .filter(w => w !== \"\")\n    let word,\n      line = [],\n      tspan = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"dy\", 0.8 + \"em\")\n\n    while (word = words.pop()) {\n      line.push(word)\n      tspan.text(line.join(\" \"))\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop()\n        tspan.text(line.join(\" \"))\n        line = [word]\n        tspan = text\n          .append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", lineHeight + \"em\")\n          .text(word)\n      }\n    }\n  })\n}\n\nconst bboxWithoutHandles = (selection, selector = \":not(.handle)\") => {\n  if (!selection) {\n    return { x: 0, y: 0, width: 0, height: 0 }\n  }\n\n  return selection\n    .selectAll(selector)\n    .nodes()\n    .reduce(\n      (p, c) => {\n        const bbox = c.getBBox()\n        p.x = Math.min(p.x, bbox.x)\n        p.y = Math.min(p.y, bbox.y)\n        p.width = Math.max(p.width, bbox.width)\n\n        const yOffset = c && c.attributes && c.attributes.y\n        p.height = Math.max(\n          p.height,\n          (yOffset && parseFloat(yOffset.value) || 0) + bbox.height\n        )\n        return p\n      },\n      { x: 0, y: 0, width: 0, height: 0 }\n    )\n}\n\nexport default {\n  Type,\n  d3Label,\n  d3Callout,\n  d3CalloutElbow,\n  d3CalloutCurve,\n  d3CalloutCircle,\n  d3CalloutRect,\n  d3XYThreshold,\n  d3Badge,\n  customType\n}\n","import Annotation from \"./Annotation\"\nimport AnnotationCollection from \"./AnnotationCollection\"\nimport { newWithClass, d3Callout } from \"./Types-d3\"\nimport { select } from \"d3-selection\"\nimport { dispatch } from \"d3-dispatch\"\n\nexport default function annotation() {\n  let annotations = [],\n    collection,\n    context, //TODO: add canvas functionality\n    disable = [],\n    accessors = {},\n    accessorsInverse = {},\n    editMode = false,\n    ids,\n    type = d3Callout,\n    textWrap,\n    notePadding,\n    annotationDispatcher = dispatch(\n      \"subjectover\",\n      \"subjectout\",\n      \"subjectclick\",\n      \"connectorover\",\n      \"connectorout\",\n      \"connectorclick\",\n      \"noteover\",\n      \"noteout\",\n      \"noteclick\",\n      \"dragend\",\n      \"dragstart\"\n    ),\n    sel\n\n  const annotation = function(selection) {\n    sel = selection\n    //TODO: check to see if this is still needed\n    if (!editMode) {\n      selection.selectAll(\"circle.handle\").remove()\n    }\n\n    const translatedAnnotations = annotations.map(a => {\n      if (!a.type) {\n        a.type = type\n      }\n      if (!a.disable) {\n        a.disable = disable\n      }\n      return new Annotation(a)\n    })\n\n    collection =\n      collection ||\n      new AnnotationCollection({\n        annotations: translatedAnnotations,\n        accessors,\n        accessorsInverse,\n        ids\n      })\n\n    const annotationG = selection.selectAll(\"g\").data([collection])\n    annotationG.enter().append(\"g\").attr(\"class\", `annotations`)\n\n    const group = selection.select(\"g.annotations\")\n    newWithClass(group, collection.annotations, \"g\", \"annotation\")\n\n    const annotation = group.selectAll(\"g.annotation\")\n\n    annotation.each(function(d) {\n      const a = select(this)\n\n      a.attr(\"class\", \"annotation\")\n\n      newWithClass(a, [d], \"g\", \"annotation-connector\")\n      newWithClass(a, [d], \"g\", \"annotation-subject\")\n      newWithClass(a, [d], \"g\", \"annotation-note\")\n      newWithClass(\n        a.select(\"g.annotation-note\"),\n        [d],\n        \"g\",\n        \"annotation-note-content\"\n      )\n      d.type =\n        d.type.toString() === \"[object Object]\"\n          ? d.type\n          : new d.type({\n            a,\n            annotation: d,\n            textWrap,\n            notePadding,\n            editMode,\n            dispatcher: annotationDispatcher,\n            accessors\n          })\n      d.type.draw()\n      d.type.drawText && d.type.drawText()\n    })\n  }\n\n  annotation.json = function() {\n    /* eslint-disable no-console */\n    console.log(\n      \"Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.\",\n      collection.json\n    )\n    /* eslint-enable no-console */\n    window.copy(\n      JSON.stringify(\n        collection.json.map(a => {\n          delete a.type\n          return a\n        })\n      )\n    )\n    return annotation\n  }\n\n  annotation.update = function() {\n    if (annotations && collection) {\n      annotations = collection.annotations.map(a => {\n        a.type.draw()\n        return a\n      })\n    }\n    return annotation\n  }\n\n  annotation.updateText = function() {\n    if (collection) {\n      collection.updateText(textWrap)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.updatedAccessors = function() {\n    collection.setPositionWithAccessors()\n    annotations = collection.annotations\n    return annotation\n  }\n\n  annotation.disable = function(_) {\n    if (!arguments.length) return disable\n    disable = _\n    if (collection) {\n      collection.updateDisable(disable)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.textWrap = function(_) {\n    if (!arguments.length) return textWrap\n    textWrap = _\n    if (collection) {\n      collection.updateTextWrap(textWrap)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.notePadding = function(_) {\n    if (!arguments.length) return notePadding\n    notePadding = _\n    if (collection) {\n      collection.updateNotePadding(notePadding)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n  //todo think of how to handle when undefined is sent\n  annotation.type = function(_, settings) {\n    if (!arguments.length) return type\n    type = _\n    if (collection) {\n      collection.annotations.map(a => {\n        a.type.note &&\n          a.type.note.selectAll(\"*:not(.annotation-note-content)\").remove()\n        a.type.noteContent && a.type.noteContent.selectAll(\"*\").remove()\n        a.type.subject && a.type.subject.selectAll(\"*\").remove()\n        a.type.connector && a.type.connector.selectAll(\"*\").remove()\n        a.type.typeSettings = {}\n        a.type = type\n\n        a.subject = settings && settings.subject || a.subject\n        a.connector = settings && settings.connector || a.connector\n        a.note = settings && settings.note || a.note\n      })\n\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.annotations = function(_) {\n    if (!arguments.length)\n      return collection && collection.annotations || annotations\n    annotations = _\n\n    if (collection && collection.annotations) {\n      const rerun = annotations.some(\n        d => !d.type || d.type.toString() !== \"[object Object]\"\n      )\n\n      if (rerun) {\n        collection = null\n        annotation(sel)\n      } else {\n        collection.annotations = annotations\n      }\n    }\n    return annotation\n  }\n\n  annotation.context = function(_) {\n    if (!arguments.length) return context\n    context = _\n    return annotation\n  }\n\n  annotation.accessors = function(_) {\n    if (!arguments.length) return accessors\n    accessors = _\n    return annotation\n  }\n\n  annotation.accessorsInverse = function(_) {\n    if (!arguments.length) return accessorsInverse\n    accessorsInverse = _\n    return annotation\n  }\n\n  annotation.ids = function(_) {\n    if (!arguments.length) return ids\n    ids = _\n    return annotation\n  }\n\n  annotation.editMode = function(_) {\n    if (!arguments.length) return editMode\n    editMode = _\n\n    if (sel) {\n      sel.selectAll(\"g.annotation\").classed(\"editable\", editMode)\n    }\n\n    if (collection) {\n      collection.editMode(editMode)\n      annotations = collection.annotations\n    }\n    return annotation\n  }\n\n  annotation.collection = function(_) {\n    if (!arguments.length) return collection\n    collection = _\n    return annotation\n  }\n\n  annotation.on = function() {\n    const value = annotationDispatcher.on.apply(annotationDispatcher, arguments)\n    return value === annotationDispatcher ? annotation : value\n  }\n\n  return annotation\n}\n","import annotation from './src/Adapter-d3'\nimport { Type, d3Label, d3Callout, d3CalloutCurve, d3CalloutElbow, d3CalloutCircle, \n d3CalloutRect, d3XYThreshold, d3Badge, customType } from './src/Types-d3'\n\nexport {\n  annotation,\n  Type as annotationTypeBase ,\n  d3Label as annotationLabel ,\n  d3Callout as annotationCallout ,\n  d3CalloutCurve as annotationCalloutCurve ,\n  d3CalloutElbow as annotationCalloutElbow ,\n  d3CalloutCircle as annotationCalloutCircle ,\n  d3CalloutRect as annotationCalloutRect ,\n  d3XYThreshold as annotationXYThreshold ,\n  d3Badge as annotationBadge ,\n  customType as annotationCustomType \n}\n\nexport default {\n  annotation,\n  annotationTypeBase : Type,\n  annotationLabel : d3Label,\n  annotationCallout : d3Callout,\n  annotationCalloutCurve : d3CalloutCurve,\n  annotationCalloutElbow : d3CalloutElbow,\n  annotationCalloutCircle : d3CalloutCircle,\n  annotationCalloutRect : d3CalloutRect,\n  annotationXYThreshold : d3XYThreshold,\n  annotationBadge : d3Badge,\n  annotationCustomType : customType\n}","import * as d3Annotation from 'd3-svg-annotation'\r\n\r\n/**\r\n * Positions the x axis label and y axis label.\r\n *\r\n * @param {*} g The d3 Selection of the graph's g SVG element\r\n * @param {number} width The width of the graph\r\n * @param {number} height The height of the graph\r\n */\r\nexport function positionLabels (g, width, height) {\r\n  // TODO : Position axis labels\r\n  var labelDate = g.selectAll('.x.axis-text')\r\n  var labelAccident = g.selectAll('.y.axis-text')\r\n\r\n  labelDate.attr('x', width / 2)\r\n  labelDate.attr('y', height + 40)\r\n\r\n  labelAccident.attr('x', -40)\r\n  labelAccident.attr('y', height / 2)\r\n}\r\n\r\n/**\r\n * Draws the circles on the graph.\r\n *\r\n * @param {object} data The data to bind to\r\n * @param {*} rScale The scale for the circles' radius\r\n * @param {*} colorScale The scale for the circles' color\r\n * @param color\r\n * @param xScale\r\n * @param yScale\r\n */\r\nexport function drawLine (data, color, xScale, yScale) {\r\n  d3.select('#graph-g')\r\n    .append('path')\r\n    .datum(data)\r\n    .attr('fill', 'none')\r\n    .attr('stroke', color)\r\n    .attr('stroke-width', 1.5)\r\n    .attr('d', d3.line()\r\n      .x(function (d) { return xScale(d.date) })\r\n      .y(function (d) { return yScale(d.nombre) })\r\n    )\r\n}\r\n\r\n/**\r\n * Draw vertical line to indicate an event in time\r\n *\r\n * @param date\r\n * @param text\r\n * @param xScale\r\n * @param yScale\r\n * @param margin\r\n * @param height\r\n */\r\nexport function drawAnnotationsViz1 (xScale, yScale, margin, height) {\r\n  /* Code below relevant for annotations */\r\n  const annotations = [{\r\n    note: { label: 'Vision Zéro' },\r\n    subject: {\r\n      y1: margin.top,\r\n      y2: height - margin.bottom\r\n    },\r\n    y: margin.top,\r\n    data: { x: '2016-01-01' } // position the x based on an x scale\r\n  },\r\n  {\r\n    note: { label: 'Début couvre-feu' },\r\n    subject: {\r\n      y1: margin.top,\r\n      y2: height - margin.bottom\r\n    },\r\n    y: margin.top,\r\n    data: { x: '2020-03-14' }\r\n  }]\r\n\r\n  const type = d3Annotation.annotationCustomType(\r\n    d3Annotation.annotationXYThreshold,\r\n    {\r\n      note: {\r\n        lineType: 'none',\r\n        orientation: 'top',\r\n        align: 'middle'\r\n      }\r\n    }\r\n  )\r\n\r\n  const makeAnnotations = d3Annotation.annotation()\r\n    .type(type)\r\n    // Gives you access to any data objects in the annotations array\r\n    .accessors({\r\n      x: function (d) { return xScale(new Date(d.x)) },\r\n      y: function (d) { return yScale(d.y) }\r\n    })\r\n    .annotations(annotations)\r\n    .textWrap(30)\r\n\r\n  d3.select('#graph-g')\r\n    .append('g')\r\n    .attr('class', 'annotation-group')\r\n    .call(makeAnnotations)\r\n}\r\n/**\r\n * Update the title of the graph.\r\n *\r\n * @param {number} year The currently displayed year\r\n */\r\nexport function setTitleText () {\r\n  // TODO : Set the title\r\n  d3.select('.title').text('Accident de tous les véhicules à Montréal par jour (Moyenne roulante sur 7 jours)')\r\n}\r\n","/**\r\n * Defines the contents of the tooltip. See CSS for tooltip styling. The tooltip\r\n * features the country name, population, GDP, and CO2 emissions, preceded\r\n * by a label and followed by units where applicable.\r\n *\r\n * @param {object} d The data associated to the hovered element\r\n * @returns {string} The tooltip contents\r\n */\r\nexport function getContents (d) {\r\n  // TODO : Generate tooltip contents\r\n  return `\r\n  <span>Country : </span>       <span style=\"font-weight:normal\">${d['Country Name']}</span>\r\n  <br>\r\n  <span>Population : </span>    <span style=\"font-weight:normal\">${d['Population']}</span>\r\n  <br>\r\n  <span>GDP : </span>           <span style=\"font-weight:normal\">${d['GDP'].toFixed(2)} $ (USD)</span>\r\n  <br>\r\n  <span>CO2 emissions : </span> <span style=\"font-weight:normal\">${d['CO2'].toFixed(2)} metric tonnes</span>\r\n  `\r\n}\r\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n"]}